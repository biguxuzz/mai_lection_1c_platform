=== Часть 1 ===
{"text":" Я в чат, по-моему, консоль запросов скидывал уже, да, вам? Отлично. Соответственно, консоль запросов, как следует из ее названия, она нужна для того, чтобы вы в режиме предприятия могли посмотреть результаты работы запроса. Давайте сначала начнем с того, о чем зачем нужны запросы то не может вспомнить как мы вообще работаем с данными в рамках один из предприятий и у нас модели основные две работы с данными существует вот через код это как называется ну в целом дар все все верно через Скотт – это","usage":{"type":"duration","seconds":60}}

=== Часть 2 ===
{"text":" объектная модель и языком запросов мы соответственно эта модель наверное я сам не помню название так что в общем и с языком то есть мы можем через объектную модель работать с данными и собственно языком запросов теперь давайте вспомним ну то есть языком запросов у нас есть какие-то ограничения что мы можем делать языком запросов что нельзя ну давайте вспомним сначала классическую субботник какой-нибудь постград что там запрос то есть какие манипуляции данными вы можете сделать запросам вывести все верно вот апдейт и все.","usage":{"type":"duration","seconds":60}}

=== Часть 3 ===
{"text":" селекты, делиты. Вот. В рамках... Что не так? В рамках же языка запросов 1С нам доступны только селекты. То есть мы не апдейтим данные, не... Ну, так, в основном, да, то есть если мы сейчас у нас есть еще временные таблицы, в них как раз мы можем выбрать, по сути, это такие insert во временной таблице. Но с данными, допустим, у нас есть какой-то справочник, есть какой-то регистр сведений, с этими данными мы ничего языком запросу сделать не сможем. У нас язык запросов позволяет осуществить выборки - Из... нууу...","usage":{"type":"duration","seconds":60}}

=== Часть 4 ===
{"text":" нашей СУБД, не обращаясь к объектной модели, не используя циклы и так далее. Плюс мы тем самым отправляем выполнение запроса, отдаем это серверу СУБД. Если у нас файловая, то у нас тоже под файловой базой у нас Тоже там субэдэ своя 1С-овская, да. Но в целом тоже, то есть все эти запросы, они выполняются вот движком субэдэшным. Это нам позволяет во-первых, распределить нагрузку между сервером приложений, сервером субэдэ. Ну и так как у нас язык запросов","usage":{"type":"duration","seconds":60}}

=== Часть 5 ===
{"text":" по сути SQL, то он достаточно универсальный и если вы работали с SQL Postgres, то вы достаточно быстро разберетесь, как работает и язык запросов 1С. Небольшое отличие от того же SQL Postgres, здесь вы можете обращаться к данным через точку ну то есть допустим если у вас вы обращаетесь там каким-то остатком товара и вам нужно допустим получить категорию этого товара и вы не сильно заботитесь о производительности запроса и прогнозируемость план выполнения этого запроса то вы можете обратиться там условно остатки . товар . категория и поле О, по-моему.","usage":{"type":"duration","seconds":60}}

=== Часть 6 ===
{"text":" В категории ссылка также у вас подтянется в запрос. То есть она работает с нашей базой как с объектами. Мы по сути выбираем из объектов. Язык запросов 1С на самом деле по синтаксису Напоминаю, SQL, если, допустим, ведется разработка конфигурации на английском языке, то ничем от SQL практически не отличается. Но на русском языке это все переведено на... Если разработка ведется на русском, то, соответственно, все эти команды SQL переведены на русский. Ну,","usage":{"type":"duration","seconds":60}}

=== Часть 7 ===
{"text":" где мы, собственно, используем язык запросов. Язык запросов мы можем использовать как для создания отчетов каких-нибудь, так и в коде, то есть сочетая объектную модель и язык запросов. Давайте попробуем что-нибудь выбрать из базы. мы выбрали все поля из таблицы товара Весь","usage":{"type":"duration","seconds":60}}

=== Часть 8 ===
{"text":" Если бы у нас здесь были табличные части, то на самом деле, ну давайте какой-нибудь документ еще возьмем. Как у нас документы здесь называются? Продажа, реализация товара. Если мы посмотрим, то у нас здесь помимо... Мы даже табличную часть выбрали. У нас здесь вот... Сейчас это у нас во второй... Вот, например, там","usage":{"type":"duration","seconds":60}}

=== Часть 9 ===
{"text":" Вот у нас здесь реализация 2 товара. То есть, по сути, здесь выбирается такая-то... То есть, внутри тоже есть табличная часть. Так. Ну, давайте теперь к синтаксису. Синтаксис. Еще раз. Он очень напоминает SQL. То есть, в целом мы можем писать прямо на SQL. Кстати, с SQL знакомые проходили... а насколько вообще отлично давайте так сделаем вот мы вспомним вот это мой то то же самое года все у нас директор на английском, они точно также работают,","usage":{"type":"duration","seconds":60}}

=== Часть 10 ===
{"text":" и максимально похожи на SQL. По сути, что происходит с языком запросов 1С? Дальше он транслируется в язык запросов с UBD, с которым мы работаем. То есть это либо MS SQL, либо Oracle, либо Postgres. И весь этот запрос отдается нашему Postgres, ну и нашему UBD. И поэтому при написании запросов, особенно сложных, Нужно, конечно, учитывать особенности с UBD, с которыми мы работаем, и помнить о том, что... Помните, каким образом приходит запрос? Вы пишете запрос в UBD, а дальше что с ним происходит? А сервер как его обрабатывает? Я так глубоко не знаю.","usage":{"type":"duration","seconds":60}}

=== Часть 11 ===
{"text":" Но дело в том, что сервер, ну, сначала, естественно, верификация запроса происходит, корректно ли вы там все указали. Дальше все это передается так называемому планировщику. Планировщик строит операции уже, последовательность операции, то, как, из каких данных, из каких таблиц, из каких, ну, и дальше уже там, откуда он все это будет выбирать. То есть часть данных может находиться в каком-нибудь буферном кэше, и они быстро получатся эти данные. Часть данных, соответственно, нужно будет полезть в саму таблицу. Часть данных, если у нас мы попали в покрывающий индекс, то они прям не лезут до файлов таблицы, а лезут только в индексы. И такие запросы могут быстрее работать. Ну и соответственно для","usage":{"type":"duration","seconds":60}}

=== Часть 12 ===
{"text":" вы уже дальше начинаете разрабатывать для каких-то высоконагруженных систем, в любом случае нужно будет туда погружаться. Так, ну и, естественно, у нас синтаксис. Первое это выбрать. Или select, да. Дальше from, is, откуда. Обозначение таблицы для того, чтобы потом удобно к ней обращаться было. Ссылка, да? Где-то я ошибся! Где? Одну из пропустил. Редактор субтитров А.Семкин Корректор А.Егорова","usage":{"type":"duration","seconds":60}}

=== Часть 13 ===
{"text":" У нас здесь есть табличная часть «товары», вот мы обратимся к ней. И нас здесь интересуют, например, «товары». «Товар» и «количество». мы вывели все значения из всех табличных частей наших документов, в том числе, допустим, и помеченных на удалении. Ну и дальше мы можем, как и в SQL, сгруппировать, например, Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 14 ===
{"text":" сгруппировать по товару и агрегирующей суммой сложить все ну и совместно мы сложили до тут же можно лучше У нас есть, естественно, секция «Где». Мы можем... Так, давайте вот так еще. Сумма. Средние. Т. Цена. Пока сюда сберем. Я мистер Ном.","usage":{"type":"duration","seconds":60}}

=== Часть 15 ===
{"text":" И соответственно вот мы хотим сгруппировать, мы можем в секции где сделать какой-нибудь отбор, ну например нас интересует какой-нибудь конкретный товар. Соответственно мы товар можем передать параметрам запроса. Так, и что здесь, даже нету. А, вот заполнить параметры. Ну и, допустим, мы хотим ограничить только диском. Или, если нам нужна работа с уже агрегированными данными, здесь мы можем написать имеющие. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 16 ===
{"text":" Например, нас интересует, что средняя цена нашего сгруппированного товара должна быть больше 10000. Здесь мы получаем результат уже сгруппированный и отфильтрованный по этому имеющемуся. В запросах мы можем комментировать куски кода и здесь еще Такой есть момент, как у нас есть конструктор. Я, по-моему, показывал, да, конструктор запросов. Он на самом деле помогает. То есть если вы только начинаете работать с QL, то можно составить весь запрос с помощью конструктора. Он достаточно такой наглядно удобный здесь. Вся структура показаны метаданные.","usage":{"type":"duration","seconds":60}}

=== Часть 17 ===
{"text":" поэтому вы можете там посмотреть какие поля вам нужны, там табличные части, какие могут быть взаимосвязи примерно предположить отсюда и составить более-менее сложный запрос исключительно конструкторам. Но многие программисты особенно начинающие пользуются только конструктором. То есть тут откуда мы выбираем, что мы выбираем, из каких таблиц, что из этих таблиц мы выбираем, какая у нас может быть группировка, такие вот здесь мы можем использовать агрегирующие функции. Как нам отфильтровать наши значения. как, собственно, нам с","usage":{"type":"duration","seconds":60}}

=== Часть 18 ===
{"text":" Так, что у нас есть? У нас есть, по-моему, цены товаров, да? Как нам соединить, например, с... Вот здесь связи появляются. Если вы добавляете больше, чем две таблицы, здесь появляются связи, и вы можете, допустим, к таблице T присоединить левым соединением и добавить условия. Здесь же условия можно добавить. Допустим, что мы привязываем товар отсюда, товар сюда. Так, условия мы посмотрели дополнительно. Здесь мы можем в дополнительной Либо объясняю.","usage":{"type":"duration","seconds":60}}

=== Часть 19 ===
{"text":" ограничить нашу выборку, ну, как там, топ, допустим, первые 10 посмотреть из запроса, либо создать временную, ну, чуть попозже мы пойдем к временной таблице, там, без повторяющихся, там, разрешенные, это функция языка, которая, ну, включает RLS-ы в наш язык запросов, поэтому если вы делаете запросы в коде, например, к базе и хотите, чтобы у вас автоматически срабатывали ограничения прав на уровне доступа, не забывайте ставить разрешенные. Иначе при выполнении запроса пользователь, который не обладает данными на эти записи, получит exception, что у него недостаточно прав. А.","usage":{"type":"duration","seconds":60}}

=== Часть 20 ===
{"text":" Здесь же у нас есть объединение, то есть мы можем добавить несколько таблиц. Например, если нам нужно объединить из документа товары из реализации и товары из поступлений. Естественно, структура у этих запросов должна быть примерно одинаковая. Мы можем упорядочить. Допустим, мы сейчас по цене упорядочим. И у нас здесь еще итоги, которые позволяют из плоской структуры нашего запроса сформировать такую иерархическую. То есть мы, допустим, можем... Здесь у нас, так как мы сделали growby, это не очень будет иметь смысл. Но в целом, если бы мы не сгруппировали, дальше мы могли посмотреть, по какой цене нужно... тоже чуть-чуть попозже.","usage":{"type":"duration","seconds":60}}

=== Часть 21 ===
{"text":" какой допустим какие у нас цены и в каких-то документах товар встречается ну и соответственно пакеты запросов это когда у нас чуть позже сейчас к временным таблицам перейдем скажу чем хорош конструктор тем что он автоматически форматирует все и единственно то есть если вы оставляли комментарии в запросе то комментарии он все удалит так и и ну и соответственно давайте мы присоединили цены товаров давайте уберем группировку сейчас группировку и условия и Офигеть.","usage":{"type":"duration","seconds":60}}

=== Часть 22 ===
{"text":" И мы видим цену из нашего регистра сведений. Соответственно, здесь мы видим расхождение, когда мы руками подправили что-то. Так, что мы дальше у нас? Давайте немножко про соединение еще поговорим. У нас, как и в SQL, есть соединение с другими таблицами. Соединение может быть либо полным соединением, это когда у нас... совпадает","usage":{"type":"duration","seconds":60}}

=== Часть 23 ===
{"text":" То есть, когда данные полностью пересекаются. Когда это может... Ну, например, если бы у нас в ценах товара... А, ну давайте так прямо и сделаем сейчас. Заведем еще один товар. Допустим, диска мы удалим в цену товара. У шины пусть будет две цены. А тут мы там допустим 17... вот так вот сделаем. Так, дальше. И еще один товар добавим. ... Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 24 ===
{"text":" не знаю чего там заполнится ну так и у нас вот есть колпак для диска где у меня теперь если ну давайте на примере вот прям посмотрим как это работает сделаем внутреннее соединение и посмотрим на результат. И у нас здесь вывелись только шины. Почему только шины вывелись? А потому что в цен товаров средств последних дисков нет. То же самое мы можем сделать и с левым соединением. То у нас выведутся, как видите, и диски Тоже только","usage":{"type":"duration","seconds":60}}

=== Часть 25 ===
{"text":" здесь будет на если мы сделаем правое соединение то как вы думаете что будет помните вообще как это и в джо и на джон работает и напомню что у нас в ценах нету диска есть шина и есть колпак сейчас мы сделали получается у нас было вот эта левая таблица да соответственно из левой таблицы мы выбирали все значения и соединяли с левой с ними было.","usage":{"type":"duration","seconds":60}}

=== Часть 26 ===
{"text":" и соединяли по товару. Соответственно, если мы сделаем правое соединение, то у нас выбирается сначала все значения из правой таблицы и к ней подсоединяются из левой таблицы. Соответственно, мы получим... У нас диска не будет, зато появится колпак. А вот здесь мы сейчас сделаем такой вот трюк. Сейчас будет выглядеть странно, потому что появится вот такая строчка непонятная. Вот здесь мы можем обойти это из null. И если у нас здесь null пришел, то соответственно мы выбираем из другой таблички. И у нас появился колпак, а диск исчез, потому что его нет в в правой табличке.","usage":{"type":"duration","seconds":60}}

=== Часть 27 ===
{"text":" ну и также есть естественно полное соединение что она выглядит месте не не столбик у нас будет ровно столько, сколько мы задали запросе. У нас есть 4 столбика, те 4 колонки нам и выведет. Полное соединение нам нужно обычно для того, чтобы вывести еще данные, то есть из правой и из левой таблицы, которые не присутствуют. Он соединяет Ну, то есть, условно, как...","usage":{"type":"duration","seconds":60}}

=== Часть 28 ===
{"text":" как это представить, что у нас есть внутреннее соединение. Соответственно, внутренним соединением мы получили пересечение, что вот-вот есть влево или есть вправо. Этот товар, в нашем случае это будет шина. То есть, если мы сделаем внутреннее соединение, у нас здесь только выведется шина. А Полное соединение оно еще добавит те данные, которые не пересекаются и есть и в левой и правой таблице соответственно если мы сделаем полное соединение у нас на самом деле выведутся и шины и диски и колпаки. Вот он добавил данные которые есть только в левой таблице и и добавил данные, которые","usage":{"type":"duration","seconds":60}}

=== Часть 29 ===
{"text":" есть только в правой таблице. Но с полным соединением желательно быть аккуратным, потому что можно получить какие-то абсолютно непредсказуемые результаты. Ну и полное соединение достаточно редко используется в логике. В бизнес-логике достаточно редко можно встретить такую задачу, где нужно полное соединение. Ну а там, где все-таки его вам необходимо, значит, скорее всего, у вас какие-то проблемы с проектировкой архитектуры вашего решения так это мы сделали дальше дальше давайте поговорим о виртуальных таблицах виртуальной таблицы Как вы думаете, что это такое?","usage":{"type":"duration","seconds":60}}

=== Часть 30 ===
{"text":" Мы, по-моему, кажется, сталкивались с ними. Нет, это временная таблица так называется. А виртуальная таблица, она что из себя представляет? она представляет но у нас есть такие но более сложные что ли объекты хранения данных такие как регистр сведений регистр накопления и для того чтобы самому мне писать сложные сложную логику у нас есть Он нас есть.","usage":{"type":"duration","seconds":60}}

=== Часть 31 ===
{"text":" виртуальной таблицы допустим как остатки обороты остатки обороты вот средств последних средств первых это по сути что такое это на самом деле уже такой на уровне базы точнее на уровне платформы такой предсгенерированный запрос который обращается к по сути такое представление упрощение для программистов чтобы давайте представим вот у нас допустим есть регистр накопления что у нас есть у нас есть приход расход движение этого регистра и соответственно чтобы нам получить допустим какие-нибудь остатки на какой-то период на произвольный период нам нужно взять все движения которые были до этого","usage":{"type":"duration","seconds":60}}

=== Часть 32 ===
{"text":" момента сгруппировать их соответственно взять там те измерения по которым мы хотим получить остатки то есть допустим если у нас склад товар количество остаток да то нам нужно все это сгруппировать там где у нас плюс соответственно соответственно ну и вот этот нам нужно будет то есть произвести целую запрос где-то ну и так как мы на самом деле достаточно часто обращаемся к остаткам или там к срезу последних регистр сведений то в платформе уже это представление сохранено и нам останется им только воспользоваться ну давайте провод мы кстати типа...","usage":{"type":"duration","seconds":60}}

=== Часть 33 ===
{"text":" срезом последних уже воспользовались, вот здесь. Если бы мы не воспользовались не срезом последних, а вот просто выбрали, что мы получили. А мы получили бы то, что у Шины на самом деле, у нее уже 2 записи было по периодам, и у нас наш результат запроса стал явно не тем, что мы хотели достичь. То есть у нас Шина Теперь в двух экземплярах в этой таблице присутствует. И нам пришлось бы как-то продумывать, брать последний период, то есть составить табличку, которая берет последний период к нашей дате и берет то значение, которое в этом регистре сведений. Соответственно, срез последних нам позволяет просто сразу воспользоваться этой виртуальной таблицей. Ну и давайте на примере мы возьмем","usage":{"type":"duration","seconds":60}}

=== Часть 34 ===
{"text":" Так. Давайте мы сделаем следующее. Мы не будем... Мы воспользуемся сразу конструктором запроса. Удалим все, что мы здесь сделали. Возьмем наш регистр накопления. Здесь уже вы видите, что есть эти виртуальные таблицы. Давайте воспользуемся самой простой. Это остатки. И мы хотим получить без кладов остатки да без кладов просто остатки товара у таблицы соответственно у нас у такси у виртуальной таблице у нас обычно есть параметры ну и для таблицы остатков это естественно Ммм.","usage":{"type":"duration","seconds":60}}

=== Часть 35 ===
{"text":" Обязательно дата будет. Теперь мы подтянем дату до Допустим давайте поставим сегодняшнюю. Ну и соответственно мы получили текущие остатки на вот эту дату. Здесь есть тонкий момент. Допустим у нас поступление товаров есть и мы захотим или","usage":{"type":"duration","seconds":60}}

=== Часть 36 ===
{"text":" получить вот на эту дату. И на всякий случай глянем, что у нас есть 28, 24. Дату мы прям запихнем это время. И на самом деле что мы видим? То, что у нас поступление товаров... У нас была приобретена одна шина и 10 дисков. А мы дисков почему-то не видим. А почему мы не видим дисков? Потому что здесь берется остаток на начало этой секунды. То есть если мы хотим получить остаток включая... то нам нужно добавить","usage":{"type":"duration","seconds":60}}

=== Часть 37 ===
{"text":" И вот здесь мы уже увидим, что наши диски оприходны. При работе с запросами, с виртуальными таблицами, желательно помнить о том, что у вас именно не захватывается та секунда, которую вы ввели. И допустим, если вы ввели дату 31-12, 24-23, 59-59, то вы получите и в этот же момент были какие-то там приходы, корректировки и так далее, вот 59 секунд именно, то, соответственно, вы не получите. Если вы хотите получить остаток на конец года, то лучше воспользоваться 0.1, 0.1 и там 0 минут, 0 секунд. Умолчание.","usage":{"type":"duration","seconds":60}}

=== Часть 38 ===
{"text":" часов так ну и собственно в этой же виртуальной таблице мы можем еще воспользоваться такой то есть есть отбор например мы хотим чтобы отбор был по складу и точно также здесь работает параметры запроса заполнить. Нет. Так, что тебе не нравится? Конструктор. А, у нас где-то сгдад был. Так, конструктор запроса. Да, у нас там где-то был сгдад. И нам нужно... Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 39 ===
{"text":" заполнить параметры давайте опять вернемся к тому что это у нас на текущую дату будет и и вот мы сделаем запрос по складу с пбр или по основному складу например В целом, логика такая, что ограничение виртуальной таблицы лучше накладывать именно внутри, в параметрах этой виртуальной таблицы. Почему так происходит? Потому что идея в том, что если вы не записьмете этот отбор, а, допустим, сделаете его вот здесь, он, кстати, тоже... Ммм...","usage":{"type":"duration","seconds":60}}

=== Часть 40 ===
{"text":" сработает на самом деле отсюда мы удалим например то результат вы получите тот же только из-за время ограничения будет наложено как будто бы после этой после выборки из из-за виртуальной таблицы но на самом деле планировщик запросы платформы не такие тупые они как бы у вас план запроса будет одинаковый то есть но при сдаче допустим как бы специалист по платформе лучше придерживаться логике что но и там чтобы не снизили бал лучше придерживаться логике что ограничения лучше ставить.","usage":{"type":"duration","seconds":60}}

=== Часть 41 ===
{"text":" внутрь виртуальной таблицы. Ну, дожить, конечно, надо. Просто потом будет небольшое удивление, когда на самом деле вы там будете готовиться к эксперту и поймете, что оно не совсем так работает, как на экзамене по специалист по платформе. Так. Это мы про... так че у нас по таймингу по таймингу я уж не успеваю овощи красота так и теперь мы переходим к теме временных таблиц временной таблице зачем нам нужны временные таблицы как вы думаете","usage":{"type":"duration","seconds":60}}

=== Часть 42 ===
{"text":" Есть предположения? Ну, и с этой точки зрения... Ну, в целом, временные таблицы нам нужны для того, чтобы мы лучше прогнозировали то, как с УБД отработает наш запрос. Потом, запрос со временными таблицами, он все-таки более читаемый, потому что вы выбираете данные. И, соответственно, происходит фиксация того, что вы выбрали. Плюс, если у вас, допустим, вы в нескольких дальнейших используете один и тот же, одни и те же данные нужно использовать, то очень неплохо, что вы их положили во временной таблице. Временная таблица в зависимости от СУБД, там,","usage":{"type":"duration","seconds":60}}

=== Часть 43 ===
{"text":" По-разному с ними происходит работа. Но в основном считается, что временные таблицы хранятся в памяти. Время жизни временной таблицы определяется время жизни менеджера временных таблиц. То есть если по умолчанию вы, допустим, менеджера временных таблиц не объявили, то это не означает, что вы не объявили. то, по сути, время жизни временной таблицы это время жизни вашего запроса. Он выполнился, все, временные таблицы удалились. Если вы, соответственно, используете менеджер временных таблиц, то пока жив этот менеджер временных таблиц, пока он используется, вы его не обнулили, временные таблицы, соответственно, существуют. Временные таблицы можно как раз удалять, если она вам там","usage":{"type":"duration","seconds":60}}

=== Часть 44 ===
{"text":" посередине запроса вы решили переинициализировать эту временную таблицу или во время жизни менеджера временных таблиц вам нужно контролировать. Поэтому есть понятие \"уничтожить временную таблицу\". В целом, со временными таблицами мы работаем следующим образом: делаем \"ПОМЕСТИТЬ\", и допустим мы хотим задать первые ну вот по какой-то причине допустим у нас ваза не так сильно заполнена но мы хотим допустим какой-то поток 10 товаров по остаткам да где у нас мы вот так сделаем.","usage":{"type":"duration","seconds":60}}

=== Часть 45 ===
{"text":" Еще здесь сгруппируем как-нибудь. А, нет. Не сгруппируем, а упорядочим. Давайте по количеству остаток. Убывающие. Вот зачем-то нам... Так, я где-то ошибся, да? Где я ошибся? А! Так, сейчас. Да, я же не указал временную таблицу. Имя временной таблицы. Временная таблица, товары. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 46 ===
{"text":" так и орфографическая ошибка я допустил поредочить так чё я получил? а сейчас давайте уберем склад как раз явно указывает отдать вот так сделаем сначала так за камень Посмотрим. Вот.","usage":{"type":"duration","seconds":60}}

=== Часть 47 ===
{"text":" получили шина а да все верно что произошло то есть я первые то есть у нас мы сейчас по убыванию а мы на борт возрастания проверим вот мы хотим посмотреть а что у нас происходит допустим с товаром, которого меньше всего на складе. Соответственно, это мы записываем во временную таблицу и дальше мы можем обращаться к этой временной таблице. Временная таблица. Ну и товар нам на самом деле здесь не нужен будет. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 48 ===
{"text":" ну и вот у нас выбрался диск а дальше мы уже его допустим мы хотим посмотреть выбор соединения документ поступления Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 49 ===
{"text":" Еще важный момент. Именно с целью оптимизации обычно желательно писать сначала из левой таблицы значение. Что у нас получится? Ничего у нас не получится. А потому что товар. Вот. И что мы здесь сделаем еще? Мы сделаем ссылка ссылка Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 50 ===
{"text":" ну вот мы посмотрели когда мы приобретали товар который которого допустим сейчас особо нету так если мы посмотрим конструктор запроса ну соответственно У нас есть вот этот запросик, который мы выбрали во временную таблицу, принициализировали ее. Дальше мы из этой временной таблицы, используя эту временную таблицу, мы, соответственно, соединили с товарами, которые у нас в табличных частях поступления документов. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 51 ===
{"text":" где мы можем использовать... В общем, временные таблицы нам позволяют прогнозировать то, как этот запрос будет выполняться, позволяют не использовать... Позволяют не использовать несколько раз один и тот же запрос, если нам нужны результаты этого, этой временной таблицы. Ну и, соответственно, упрощают представление таблицы, потому что дальше мы можем при отладке запросов посмотреть, а на каком этапе у нас там что-то вдруг пошло не так. Так. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 52 ===
{"text":" ну и соответственно так мы с вами посмотрели что такое временные запросы давайте посмотрим что же такое подзапросы вот у нас есть замечательный если бы у нас не было временных таблиц то нам бы пришлось делать с помощью подзапросов и в целом как у нас выглядит подзапросы мы можем Смело. Сделать вот так. Только я не уверен, что здесь отработают первые. И упорядочить, по-моему, в подзапросе тоже не работает. Давайте убедимся просто. Ну, что точно не работает? Помещение во временную таблицу. Так. Да, все работает. Круто. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 53 ===
{"text":" мы получили ровно тот же результат только используя под запрос. Почему не рекомендуют использовать под запрос? Во-первых, сильно усложняется сам запрос, То есть получается, чтобы прочитать этот запрос, нужно понимать, а вот что вот эта временная таблица, что вот этот вот подзапросик, что мы из него выбираем потом. Ну и, соответственно, хотя кусок кода выглядит чуть компактнее, но мы усложним жизнь для понимания этого запроса тому, кто дальше будет с этим работать. Но и не только ему, но еще и планировщику, на самом деле.","usage":{"type":"duration","seconds":60}}

=== Часть 54 ===
{"text":" запрос мы тоже усложним жизнь потому что чем больше соединений в запросе чем больше таблиц тем планировщику сложнее понять как правильно выбрать план запроса с другой стороны достаточно удобно то есть тоже достаточно удобный инструмент когда он еще может использоваться ну например мы можем когда нам нужны какие-то более сложные когда нам нужно допустим по какому-то сочетанию данных сделать отбор но например например давайте мы вот сюда еще добавим склад Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 55 ===
{"text":" так мы упорядочили по количеству и можно вот так воспользоваться соответственно будет товары сейчас мы сделаем при максимально неоптимальным как раз я говорю о том что можно мы работаем запросе с объектами поэтому мы можем допустим выйти через ссылку на склад и сравнить с тем что у нас нет я не туда поставил так нам нужно сделать это вот как раз здесь он будет Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 56 ===
{"text":" Так, получается у нас поступление на... Так, сейчас мы посмотрим, здесь работает так или нет? Да, работает. Ну, соответственно, в консоли запросов мы можем выделить запросик, который нам нужно выполнить, увидеть, что здесь есть, что внутри этого подзапроса, и какие-то принятия решение. Упорядочить по возрасту. Так, по возрасту, по убыванию. Так, что-то у меня... Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 57 ===
{"text":" Товар... Ссылка, склад... Короче, у меня данные так не пересекаются. А почему? Почему у меня так не пересекаются данные? У меня же остаток. Есть этот товар. Есть... А, блин, конечно же, склад. Вот я... Так, вот у меня сгадат опять. Ну и, соответственно, мы видим, что у нас где было поступление шины, в каких документах. И при этом еще на склад обязательно основной. То есть, если мы откроем, вот у нас везде склад будет основной. Как мы можем еще сделать? Мы можем собственно","usage":{"type":"duration","seconds":60}}

=== Часть 58 ===
{"text":" взять и вот этот вот запрос запихнуть сразу в условия то есть у нас мы выбираем мы выбираем из вот этой таблицы где и мы можем сделать следующим образом Товар. Ссылка. В. И здесь мы выберем под запрос. Тогда нам не нужно никакое внутреннее соединение. То есть мы сделаем вот. У нас есть поступление товаров. Так. А и это естественно у нас тоже поступает. ПТТ должно быть.","usage":{"type":"duration","seconds":60}}

=== Часть 59 ===
{"text":" Так, что у нас не так? Так. А, ну да, естественно. ПТТ. То есть у нас мы в где запихнули этот подзапрос и используем вот это выражение в. То есть у нас там, где у нас будет именно этот товар именно этот вклад мы ищем уже вот в этом запросе но тем самым используя такие условия используя мы значительно то есть мы можем таким же образом мы можем Под запрос","usage":{"type":"duration","seconds":60}}

=== Часть 60 ===
{"text":" использовать и внутри параметров временной таблицы, тем самым мы усложняем запрос и плюс есть рекомендации по стандарте разработки 1С, у нас достаточно четко указано, что не рекомендуется использовать соединение виртуальных таблиц под запросами, потому что план планировщик запроса он может, скорее всего, он вам выберет не оптимальный план запроса. А вот если вы выберете во временную таблицу, то планировщику гораздо проще будет со всем этим работать, потому что он будет понимать статистику тех выборок, которые у вас участвуют в запросе, и соответственно план запроса будет построен Оптимальнее и быстрее.","usage":{"type":"duration","seconds":60}}

=== Часть 61 ===
{"text":" так Так, а еще хотел как раз проэкспериментировать, а мы можем в где использовать условного? Допустим, вот у меня есть... Это уже совсем прям экзотическая штука. Но вот, допустим, мы хотим вот зачем-то так сделать. Ну и, соответственно, под запрос... под запрос в...","usage":{"type":"duration","seconds":60}}

=== Часть 62 ===
{"text":" секции выбрать мы естественно сделать не можем но она и логично ради так что у нас еще из особенностей языка запросов есть в 1с я уже те которые нету выстрелим например нам нужно если мы работаем с каким-то регистром У нас есть такие ключевые слова, как ссылка. Например, мы хотим… Давайте конструктивный запрос также. Ладно, выбрать. Звездочка из регистрации накопления. остатки","usage":{"type":"duration","seconds":60}}

=== Часть 63 ===
{"text":" Или там товарный складаха называется, да, у нас. Ну и, соответственно, мы можем... То есть то, чего точно нет в SQL, это, например, где... И мы хотим сделать отбор по НС, ссылка, это у нас регистратор, колонка называется. Ссылка, документ, вступление товаров. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 64 ===
{"text":" Смотрим. Вот у нас здесь есть перемещение, приходование, реализация, а мы только поступление хотим зачем-то выбрать. Ну и соответственно это условие нам позволяет ограничить тип. Также у нас здесь есть еще один момент. Если вы хотите уменьшить количество обращений к серверу и потребления памяти тут есть еще такое понятие как представление ну и например tns тот же регистратор Что он делает?","usage":{"type":"duration","seconds":60}}

=== Часть 65 ===
{"text":" самом деле нам. То есть, если вот здесь у нас сейчас тип — это поступление товара, то есть регистратор — это вот прям объект, то если нам нужно выводить какое-то там сообщение пользователю и так далее, и мы хотим без этой ссылки ввести, то мы сделаем вот таким образом. Регистратор. И у нас это уже строка. То есть, таким образом, при выводе сообщения пользователя нам ну как бы платформа она не будет обращаться к базе чтобы получить представление объекта ну и соответственно тем самым вы уменьшите количество вызовов также есть еще момент как так а вот выразить по-моему каст он есть скеле допустим нам нужно получить Субтитры сделал DimaTorzok","usage":{"type":"duration","seconds":60}}

=== Часть 66 ===
{"text":" дату определенного документа, определенного типа документа. У нас, допустим, регистратором в регистре накопления может быть достаточно много типов. И для того, чтобы ограничить количество неявных соединений к этому запросу, мы можем сделать следующее. Мы можем выразить этот объект и уже обратиться к его дате например и таким образом мы тоже сэкономим ну во-первых у нас план запроса будет проще потому что мы сделаем вместо join of на кучу типов мы сделаем только один join вот и соответственно таким образом мы сможем помочь","usage":{"type":"duration","seconds":60}}

=== Часть 67 ===
{"text":" Ну как бы оптимизировать запрос. Так, еще в языке запросов у нас есть что-то типа кейса. Давайте посмотрим на нашу табличку, придумаем синтетический пример. Например, количество Ну давайте, например, нам мы хотим какой-нибудь... Сейчас мы вот так сделаем конструктор запроса. Это чтобы звездочку заменить на определенный параметр. Мне лень это все вводить. И допустим, мы хотим просто... Вот у нас есть количество, а мы... Зачем-то нам нужно","usage":{"type":"duration","seconds":60}}

=== Часть 68 ===
{"text":" выводить представление если у нас количество больше единицы то мы должны вывести что их много да то есть мы можем сделать выбор когда это как кейс работает выбор как количество равно единицы тогда 1 Давайте так сделаем. Когда меньше 10, тогда немного. Много.","usage":{"type":"duration","seconds":60}}

=== Часть 69 ===
{"text":" Так, где-то я ошибся. Иначе. ну и соответственно у нас вот этот кейс срабатывает Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 70 ===
{"text":" Естественно, дальше вы с этим запросом уже можете работать как в коде, так и в отчетах. С отчетами, наверное, я на следующей лекции покажу, как работать. Так, и... Ну, давайте, если есть какие-то вопросы по языку запросов, готов ответить. Так, а давайте сейчас мы быстро накидаем метаданных и небольшую прямо домашку. У вас как сегодня со временем? Вы сможете достичь?","usage":{"type":"duration","seconds":60}}

=== Часть 71 ===
{"text":" домашнее задание небольшое выполнить прям небольшое ну знаете короче кто справится это мой один из моих любимых вопросов на собеседовании раньше был сейчас я уже такое не знаю вот Мне приходится... Давайте вернемся в наш конфигуратор. Естественно, куча всяких инструментов работы с консолями запросов. Я самый простой показал. Результат нашей консольки запросов можно спокойно куда-нибудь сохранить. Если вы аналитиком, допустим, дальше будете работать то...","usage":{"type":"duration","seconds":60}}

=== Часть 72 ===
{"text":" А скорее всего у вас там будет какой-то набор ваших там запросиков к базе, которые... Ну, кстати, запросами можно и положить базу. Можно хороший запрос составить так, чтобы там все... Все, да, подождали немножко вас. Ну... полное соединение прямо это самое лучшее минимум фильтров и максимально по размеру таблицы две они перемножатся забьется память сначала с UBD наверное потом applications server и в общем все будут счастливы да Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 73 ===
{"text":" А, и обязательно в коде нужно еще это все выгрузить в таблицу значений. Вот тогда прям максимально, короче, кривой запрос. Ну, и по рекомендациям с оптимизацией и для отчетов, да, идея в том, что если по какой-то причине вы выбираете огромное количество данных, то, скорее всего, пользователю это не нужно, потому что, во-первых, он будет работать с с данными, которые он видит на экране. То есть, если у него миллион строк этого отчета, то, скорее всего, что-то пошло не так. Ну, и если ему нужно будет именно как-то там работать с этим миллионом строк, ну, тогда предоставьте ему какой-нибудь другой инструмент, типа там какой-нибудь 1С аналитики, где он сможет агрегировать все это. А в хорошем случае отчет что","usage":{"type":"duration","seconds":60}}

=== Часть 74 ===
{"text":" должен все-таки выполняться где-то на страницу, а дальше вы можете расшифровывать. И таким образом вы сократите время вывода этого отчета, время работы базы и так далее. Поэтому логика при составлении отчетов она такая, что пользователь должен видеть только то, что он может увидеть. В плане того, что не нужно... То есть если он миллион строк он не сможет увидеть, да, он не сможет проанализировать это там внутри системы. Вот. Если вы выведите ему там, я не знаю, там, именно, если это не какая-нибудь там отчетная форма для там высшестоящей организации, да, если вы ему выводите там 100-500 колонок, вряд ли так же ему эта информация особо нужна и полезна. То есть Явно где-то","usage":{"type":"duration","seconds":60}}

=== Часть 75 ===
{"text":" была проблема там при проектировании и сто пятьсот колонок просто выводится просто просто используя ресурсы сервера и никакой пользы для бизнеса не несут так давайте раз уж вы говорили про контактную информацию то давайте у нас есть справочник контрагенты мы добавим мы добавим контакты мы добавим вид контакта и значение этого контакта Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 76 ===
{"text":" Вид контакта - это у нас будет перечисление. И перечисления будут иметь значение, допустим, телефон. И адрес. Дайте email. Вид контакта мы сделаем... Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 77 ===
{"text":" Перечислением. Мне кажется, что систему я никакую не должен добавлять. Спасибо. и давайте добавим вот таким образом у нас ну мы считаем что у нас виды контактов там телефон и адрес что мы виды контакта все-таки вводим один адрес один телефон","usage":{"type":"duration","seconds":60}}

=== Часть 78 ===
{"text":" И там один email. Но у нас может быть так, что мы введем только телефон. или только адрес. И нам нужно языком запросов получить следующую табличку. Получить следующую табличку мы вот так сделаем в виде задания. И Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 79 ===
{"text":" Контрагент. Адрес. Так. Телефон. И нам нужно вывести вот такую плоскую табличку. То есть у нас данные в структуре, которую я сделал, вывести нужно в плоскую. Собственно, это будет таким небольшим домашним заданием. Тот, кто сделает, тот получит бонус. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 80 ===
{"text":" Так, это я скину в нашу цепочку, вот так вот. Так, и сейчас сразу выгружу. Так, сразу выгрузим. Так. цифр так и добавим Все.","usage":{"type":"duration","seconds":60}}

=== Часть 81 ===
{"text":" запрос какой запрос нужно составить понятно ну вот я там скринчик скинул нам нужно вот из тех из той структуры которую мы создали сделать плоскую структуру контрагент адрес телефон и mail контрагент естественно то есть у нас все контрагенты должны вывести и из их контактной информации Так, 0.4.15. Отлично. Так, и давайте эту викторинку вношу. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 82 ===
{"text":" Или сейчас это как модно квиз называть? Так, а я тоже поотвечаю, чтобы понять, где я там накосячил. Так. Спасибо. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 83 ===
{"text":" Спасибо. Так, а, и племя я забыл всех отметить. Отметить забыл. Сейчас. Так, а, нету. Арсений есть. Далее нету. Так. Так, Александр, это вы. Так. Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 84 ===
{"text":" Ильи же нету, да? Зато есть Кирилл, да? Екатерина. Владислав. Николай. Татьяна. И Федор. Вот как, все замечательно. Так, ну, вроде тогда до завтра.","usage":{"type":"duration","seconds":40}}

