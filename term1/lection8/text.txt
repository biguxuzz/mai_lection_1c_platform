=== Часть 1 ===
{"text":" Сегодня мы затронем версию транзакций и сделаем такую... У нас в системе есть неявные транзакции, они например открываются там при записи, при проведении объектов. То есть они в любом случае происходят. Но нам нужно будет сегодня организовать транзакцию самостоятельно. Давайте сначала вспомним, зачем они нужны. Александр. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 2 ===
{"text":" Ну, почему? Транзакции не запрещают. Допустим, если мы с одним объектом работаем, в другой транзакции его как минимум могут прочитать, например, или... Ну вот записать скорее всего... Но опять же, это если мы поставим блокировку. А вообще зачем она нужна? То есть у нас есть две противооборствующие вещи в СУБД. который работает много пользователей,","usage":{"type":"duration","seconds":60}}

=== Часть 3 ===
{"text":" с одной стороны, нам нужно обеспечить параллельность работы, а с другой стороны, нам нужно при этом, чтобы целостность данных у нас сохранялась. И в целом транзакция нам нужна для того, чтобы обеспечить консистентность данных. То есть, допустим у нас Мы можем производить какие-то действия сразу с несколькими объектами, и нам нужно, допустим, обеспечить, чтобы это действие либо со всеми вместе, этими объектами, было проведено, либо не проведено вовсе. То есть, таким образом мы целостность транзакции обеспечиваем, что у нас то, что происходит в транзакции, оно может Может,","usage":{"type":"duration","seconds":60}}

=== Часть 4 ===
{"text":" откатиться целиком или приняться целиком вот и для этого как раз нам механизм трансакции и помогает ну и конечно следует одно из предназначений для работы в многопользовательской базе это естественно обеспечение изолированности данных при многопользовательской работе. То есть, чтобы если мы в транзакции допустим, с каким-то объектом хотим работать, чтобы он не изменялся внутри транзакции, то соответственно мы блокируем его разделенной блокировкой. Если мы хотим, чтобы этот объект Ага.","usage":{"type":"duration","seconds":60}}

=== Часть 5 ===
{"text":" если мы намерены его изменить и записать, то, соответственно, мы ставим эксклюзивную блокировку. В целом, есть еще один вид транзакции, это Update-транзакция. Вот. И она на самом деле тоже есть, ну, то есть, она реализована на платформе 1С, но Она, во-первых, работает в... То есть это не режим управляемых блокировок, это скорее команда к СУБД о том, какие объекты СУБД должна заблокировать. Ну и в целом этот текст встречается именно в вызове запросов. Там есть такая... For Update или... Да.","usage":{"type":"duration","seconds":60}}

=== Часть 6 ===
{"text":" достаточно редкая конструкция на самом деле в современных конфигурациях потому что мы чаще все-таки стараемся работать с менеджером блокировок самой 1s потому что с ней чем выше уровень где мы начинаем работать с блокировками тем этим проще управлять. Потому что на блокировки с УБД мы повлиять можем только косвенно. Мы понимаем, что можно отследить уже по технологическому журналу, как они накладываются, например. И со стороны СУБД мы можем это как-то прям, чтобы программист осознанно влиял на блокировки в кино уровне Субдэ,","usage":{"type":"duration","seconds":60}}

=== Часть 7 ===
{"text":" сложнее сделать. Так, ну и на самом деле мы с вами давайте посмотрим, что у нас сейчас творится в конфигурации. Ну и мы видим, что у нас есть какие-то минусы из-за того, что У нас, во-первых, есть... Мы контроль остатков включили только после использования нашей конфигурации. И давайте подумаем, как нам... Как нам избавиться от этих минусов. Ну, в целом, можно, наверное, было бы произвести... То есть первое, что напрашивается, конечно, здесь отсутствует документ. У нас есть подсказка, реализация","usage":{"type":"duration","seconds":60}}

=== Часть 8 ===
{"text":" и подразумевается, что вот куда у нас поступил товар, то оттуда он реализовывал, но на самом деле естественно у нас может быть и перемещение товаров. Давайте сначала добавим документ перемещения товаров. ... ... Так, этот документ у нас будет относиться... Нам бы, конечно, под системку создать свою. Так, а у меня... Так, какие картинки я там использовал? Давайте пока это все в... Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 9 ===
{"text":" в закупке. Это у нас будет элевин закупок. Хотя по-хорошему это, конечно, складской уже функционал. Склад и логистика. Реквизиты у нас будет склад отправитель. Реквизиты Схват-получатель. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 10 ===
{"text":" Ну и сейчас количество. так она судя мы настолько сумма да поэтому здесь число ставим так право мы сразу определим права чтобы у нас так закупки у нас соответственно закупки мол,","usage":{"type":"duration","seconds":60}}

=== Часть 11 ===
{"text":" Могут редактировать, добавлять, отменять, проводить. Доброе. Интерактивная пометка на удаление. Так, кстати, надо будет посмотреть, как встроено... история.","usage":{"type":"duration","seconds":60}}

=== Часть 12 ===
{"text":" Так. И нам надо... Так, это мы в закупках, в продажах мы поставим чтение. Внешнее чтение. Ну и здесь у нас автоматно все права добавились. Так. И... Добрый... Ну и движение, естественно, товар на складах. Давайте сразу конструктор движения сделаем. Сделаем сначала расход. У нас табличная часть товара. Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 13 ===
{"text":" И добавим приход. В целом нам по-хорошему бы еще, конечно, контроль остатков сделать здесь. Он у нас был сделан в реализации. Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 14 ===
{"text":" так давайте подумаем как бы нам так сделать переиспользовать этот код То есть у нас сюда на вход что приходит? У нас приходит таблица товаров из объекта. И тут мы текст ошибки выдаем. По идее нам бы по-хорошему","usage":{"type":"duration","seconds":60}}

=== Часть 15 ===
{"text":" так как у нас контроль остатков примерно одинаков нам бы нужно вот этот контроль остатков выделить в отдельную форму давайте сделаем общий модуль на прям за контроль остатков у нас будет серверный и здесь сделаем так мы уже в реализации то же самое товары да товары","usage":{"type":"duration","seconds":60}}

=== Часть 16 ===
{"text":" количество. И вот этот кусок кода мы собственно и перенесем. Так что он у нас неизменный. так только нам нужно так а сейчас нам надо вернуть нам нужно сделать чтобы это была функция то есть мы проконтролировали и функции вернули вернем Вот.","usage":{"type":"duration","seconds":60}}

=== Часть 17 ===
{"text":" если у нас остатки возникли минусы в остатках после проведения для этого мы сделаем так сейчас если это у нас функция она у нас должна отвечать на вопрос и возвращает Булева. ... ... Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 18 ===
{"text":" На вход нам нужна будет табличная часть. Так, и эта функция у нас на самом деле будет экспортной, потому что мы ее вызываем из другого. Если мы ее не сделаем экспортной, то вызывать мы ее можем только изнутри этого же модуля а нам нужно чтобы она была доступна из этого модуля так ставим наш код ну и теперь проверим логику так у нас нам нужно вход Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 19 ===
{"text":" эти структуры так у нас здесь дата склад что у нас еще здесь у нас здесь Товар. Таблица товаров. Так, я предлагаю сделать следующее, так как чтобы не гонять... Так, сейчас и здесь у нас... Что мы вызываем? Отказ. Это у нас будет результат. Отказ. Субтитры делал DimaTorzok","usage":{"type":"duration","seconds":60}}

=== Часть 20 ===
{"text":" Честно говоря, не может тут у нас... Так, и возврат. Так, а вот здесь мы... Отказ, истина. Значит, у нас здесь будет... Нам придется перевернуть это. Нам нужны результаты, здесь ложь. Редактор субтитров А.Семкин Корректор А.Егорова","usage":{"type":"duration","seconds":60}}

=== Часть 21 ===
{"text":" так товар количество посмотрим из параметров значит нам должно прийти дата склад и нам должен прийти он выгрузка товаров то есть я бы конечно не вот так делал как здесь сделано я бы сделал через выгрузку давайте мы с соответственно, при","usage":{"type":"duration","seconds":60}}

=== Часть 22 ===
{"text":" Ну, во-первых, мы все это... Параметры... Так, параметры дата, параметры склад. Дальше. Вот это вот мы... Мне не нравится этот кусок кода. Угу. И для того, чтобы получить таблицу товаров, давайте как раз разберемся, что такое временное хранилище. Нам нужно... Временное хранилище, это, собственно, на самом деле оно больше предназначено, конечно, для передачи между контекстами, то есть клиентским контекстом и серверным. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 23 ===
{"text":" но мы с вами поместим нашу таблицу во временное хранилище, а здесь ее поднимем, чтобы передавать только адрес во временном хранилище. Для этого у нас в документе реализация. Собственно у нас весь наш вот этот вызов, он превратится вот в такую штуку как Контроль остатков. Отрицательные остатки отсутствуют. И вот сюда мы с вами передадим параметры. Параметрами, как мы помним, у нас будут... Это у нас структура. Параметры. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 24 ===
{"text":" и давайте ставим соответственно дата склад Так, ну и теперь нам нужно нашу таблицу товаров выгрузить во временное хранилище. Для этого нам нужно сделать следующее. Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 25 ===
{"text":" Так, поместить во временное хранилище. Так, адрес. Давайте посмотрим, что он из себя представляет. Собственно, возврат нам он адрес во временном хранилище дальше адрес это необязательно это необязательный объект так сейчас мы если мы это мы искали контекста проведения.","usage":{"type":"duration","seconds":60}}

=== Часть 26 ===
{"text":" поэтому у нас контекст формы здесь недоступен поэтому мы ничего не будем указывать мы просто давайте поэкспериментируем так соответственно товары так и на самом деле мы из товаров нам же нужно только выгрузить колонки нам не все колонки нужны мы выгрузим товар и количество добрый Товарищи,","usage":{"type":"duration","seconds":60}}

=== Часть 27 ===
{"text":" количество и теперь этот адрес таблицы мы вставим мы ставим сюда так дальше мы соответственно вызовем наш контроль остатков если он вернет отказ то соответственно мы отказ отлично сработает поэтому вот эту всю функцию мы отсюда грохаем добрый так сейчас секунду Редактор субтитров А.Семкин Корректор А.Егорова","usage":{"type":"duration","seconds":60}}

=== Часть 28 ===
{"text":" Так, и у нас появился еще один параметр – адрес таблицы товаров. Таблица товаров. но здесь там можно соответственно получить из временного хранилища и у нас адрес уже есть.","usage":{"type":"duration","seconds":60}}

=== Часть 29 ===
{"text":" У нас находится в параметрах адрес товаров на складах. Таким образом мы дальше передаем нашу табличку в запрос. Запрос выполняем. Производим дальше выборку. И если у нас результат Так. Чики получили. То сообщим пользователю о том, что теперь этот же запрос мы смело можем, этот же вызов точнее, мы можем смело повторить в нашем перемещении товаров.","usage":{"type":"duration","seconds":60}}

=== Часть 30 ===
{"text":" то есть вот у нас наше перемещение товаров и ровно такой же вызов мы сделаем перемещение товаров то есть мы получили дату склад только теперь нам здесь нужно подправить это будет склад отправитель нам нужно остатки контролировать соответственно того товара откуда мы то есть того склада откуда мы списываем дальше поместили все так же во временное хранилище проверим помощник чтобы у нас везде работал так и проверим как у это работает.","usage":{"type":"duration","seconds":60}}

=== Часть 31 ===
{"text":" Так, теперь у нас есть задажа реализации товаров. Давайте посмотрим, какие у нас остатки, где. Ну, например, у нас остаток SPB диск 10. соответственно мы сделаем атака мы с вами по моему так здесь на закупках у нас есть перемещение так 10 реализации Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 32 ===
{"text":" так и что нам не удалось ошибка храним в данных так сейчас ошибка храним так а где у нас что у нас Давайте оплатчиком пробежимся, посмотрим, что у нас не так. Есть вероятность, что мы где-то здесь накосичили. Так. Субтитры сделал DimaTorzok","usage":{"type":"duration","seconds":60}}

=== Часть 33 ===
{"text":" Так, что не так-то? Реализация товара. Так, у меня отладка, подключение. А, у меня отладка, видимо, не включена. Сейчас мы переключим отладку на сервере. Так. Так. Так. Тогда...","usage":{"type":"duration","seconds":60}}

=== Часть 34 ===
{"text":" без отладки запущено. Ничего, мы остановим. Так, теперь у меня отладка включена. Спасибо. Редактор субтитров А.Семкин Корректор А.Егорова","usage":{"type":"duration","seconds":60}}

=== Часть 35 ===
{"text":" Так смотрим что у нас. так количество так она у нас видит когда она пустая Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 36 ===
{"text":" Так, сейчас товар. А, а нам даже, наверное, не нужно нам даже не нужно выгружать весь весь товар. Так, сейчас мы вот так сделаем. Так, я не понял, где у нас в теге ошибка возникла еще раз. так во первых у нас же есть товары так товары у нас есть если мы выгрузим это у нас что возвращает Да.","usage":{"type":"duration","seconds":60}}

=== Часть 37 ===
{"text":" он ничего не возвращает выгрузить колонки а он как будто бы пустой просто выгружает нам так и мы посмотрим что у нас вообще под собой подразумевает выгрузить колонки так это у нас табличная часть таблицу а заданным до создает он пустую таблицу с заданным типом колонки. Нам на самом деле здесь нужно выгрузить... так хорошо если мы выгрузить применим... также универсальные объекты в синтаксис-помощнике посмотрим... то у нас выгрузить строки колонки... строки это массив, колонки... а вот мы вот здесь Выгружаем.","usage":{"type":"duration","seconds":60}}

=== Часть 38 ===
{"text":" вот так делаем товар собственно даже так это мы поместили во временное хранилище так сейчас еще раз применим наши изменения Так, давайте проверим, что у нас вернет наш вот этот вот... Так, ну вот он возвращает таблицу значений с диска. Так, дальше поместили. Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 39 ===
{"text":" Дальше мы проводим. Так, мы же таблицу значения поместили. Да. Дальше мы выполнить. Выбрать. Так, количество что меньше 0. Так, еще раз, что мы здесь с вами выбираем? Мы с вами выбираем... А, ну ладно, сейчас я понял. Следующий наш косяк. Так, окей, дальше мы возвращаем результат. А вот здесь у нас возникает exception. Ошибка хранения данных. данных.","usage":{"type":"duration","seconds":60}}

=== Часть 40 ===
{"text":" Так, соответственно, давайте попробуем сделать следующим образом. Мне кажется он сейчас не понимает, когда нам очистить наши временные файлы. Поэтому мы здесь сделаем так: \"новый\". Уникальный идентификатор. Так, и глянем на контекст. Что у нас здесь. поместить.","usage":{"type":"duration","seconds":60}}

=== Часть 41 ===
{"text":" во временное хранилище давайте на всякий случай еще очистим наше временное хранилище чтобы она нам не засоряла ну вот эти куски до так удалить временного хранилищ так мы соответственно поместили проверили удалили так еще раз проверяем так но на самом деле мы тут кое-что забыли сделать нам нужно дверь товары","usage":{"type":"duration","seconds":60}}

=== Часть 42 ===
{"text":" на складах, чтобы он проверил, нам нужно записать сначала. Вот. И вот теперь мы можем вполне себе проверить, что у нас происходит. Так, это у нас продажа, реализация, провести. Ошибка хранимых данных. Что-то я не так делаю с хранимыми данными. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 43 ===
{"text":" Так. Так. Да. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 44 ===
{"text":" Так, а у нас, похоже, в чем проблема? В том, что... Давайте проверим. А, я понял, в чем проблема на самом деле. Во-первых, мы неправильно отказ обрабатываем, нам нужно то есть у нас здесь проблемы с проведением на самом деле еще не было давайте про проверим эту гипотезу то есть у нас количество 11 так провести дата склад Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 45 ===
{"text":" Дальше мы поместили во временное хранилище. Теперь мы... Так, сейчас где-то у нас нарушилась логика. То есть такое впечатление, что в момент когда мы считываем остатки, у нас еще количество наше на самом деле не... На самом деле ошибка-то вот здесь. То есть первая ошибка она здесь, потому что мы отказ, то есть если у нас отрицательные остатки отсутствуют, мы присваиваем отказ. А тут, естественно, надо их","usage":{"type":"duration","seconds":60}}

=== Часть 46 ===
{"text":" инвертировать не нужно нам нужно как раз если у нас отрицательно со остатки присутствуют это первое и тогда у нас сообщение больше ну то есть тогда у нас отказ сработать не будет но это не меняется следующее: у нас на самом деле в чем проблема, в том что мы движение товаров мы сделали, но у нас выглядит так, как будто бы они так и не записались. И когда мы строим запрос, у нас в момент запроса он не видит, что мы этот остаток еще списали. А.","usage":{"type":"duration","seconds":60}}

=== Часть 47 ===
{"text":" и соответственно дальше у нас возникает то что у нас он видит предыдущие остатки по складу на самом деле мы уже их пытались изменить так а почему вот он здесь так движение записать вот и вот теперь У нас должно все правильно отработать. Так, где наши продажи? Реализация товаров. Так, это мы с вами. Ну, и что? Ну так. Так. Мы с вами выиграли.","usage":{"type":"duration","seconds":60}}

=== Часть 48 ===
{"text":" вывели остаток в минус, а он нам ничего не сообщил. Так, а здесь я пытался, почему меня вводит товар на складах, я пытался понять, в какой последовательности у нас проводятся регистры. Так, давайте мы уберем эти сообщения ненужные. Этот эксперимент мне нужно было понять: могу ли я как-то повлиять на последовательность записи движений в регистры сведений. Ответа нет, не могу. Неважно, в каком они порядке метаданных, то есть я могу Да.","usage":{"type":"duration","seconds":60}}

=== Часть 49 ===
{"text":" Продемонстрирую. На самом деле очень неочевидная вещь. Вот смотрите, у нас сейчас регистры в порядке следующего. Взаиморасчеты и товарный складок. Почему у меня все равно не провел? Почему у меня контроль не сработал? Я же здесь сделал все вроде движения записать, записывать истина. У меня по идее вот здесь уже должно должен был сработать мой контроль остатков и ты с меня вот дата понял здесь косяк в следующем на самом деле мы не должны то есть Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 50 ===
{"text":" Тоже небольшой то, как работает регистр остатков. Несмотря на то, что мы записали этот документ, у него есть дата, мы вот если мы сюда начинаем передавать дату, то он срабатывает до той секунды, по которой мы сюда записываем. Соответственно, у нас изменение остатков, оно произошло уже после записи нашего документа. Поэтому на самом деле нам никакой даты сюда передавать не нужно. Мы должны контролировать остатки на конец вообще всей... Короче, на актуальную дату. Нам не нужно никакую дату сюда передавать. Это ошибочно. Это то, что мы с вами экспериментировали с тем, как искусственный интеллект нам напишет контроль остатков. Либо нужно... контролировать на","usage":{"type":"duration","seconds":60}}

=== Часть 51 ===
{"text":" В общем, здесь нам точно дата не нужна. Здесь мы контролируем оперативные остатки, поэтому нам здесь дата только повредит. Так, и теперь смотрите. Сейчас мы... Это где я? Так, сейчас давайте проверим запрос. вот он нормально работает то есть я дату просто убрал то есть сейчас да то будет на последнюю соответственно нам естественно дата давайте поправим сразу в реализации товаров на вот этот параметр здесь вообще не нужен склад нам нужен товар нам нужен так это все нам нужно теперь нам нужно так теперь нам нужно повторить этот же код Вот.","usage":{"type":"duration","seconds":60}}

=== Часть 52 ===
{"text":" перемещение товаров транзак я хотел сегодня пар транзакции немножко так модуль объекта так нам нужен склад отправитель так пробуем провести так вот сейчас он нам выдал exception а это опять наш замечательный так и вот смотрите у нас получается,","usage":{"type":"duration","seconds":60}}

=== Часть 53 ===
{"text":" первым произошла запись в товарных складах, второй во взаиморасчеты. Смотрим в наш объект метана. У нас здесь на самом деле взаиморасчеты и товарных складах. И на самом деле здесь даже не повлияет. То есть можно было подумать, что вот влияет то, когда я пытаюсь этот регистр добавить. То есть на самом деле, если я вот так сделаю, у меня ровно та же самая ситуация будет. У меня сначала товар на складах запишется, а потом... Ну, точнее, в том же порядке, что и... То есть здесь мы на самом деле никак не можем повлиять на порядок записи. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 54 ===
{"text":" Отлично. Так, он не проводится, говорит о том, что... А вот как был товар на складах, потом взаиморасчеты, так и осталось. То есть мы повлиять здесь не можем. Так, давайте теперь, во-первых, сделаем все-таки... вот это вот текст ошибки мне но точнее текст ошибки все замечательно нам не нужно вызывать исключения нам нужно сделать сообщение пользователю а соответственно мы должны это сделать следующим образом так сообщение пользователю Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 55 ===
{"text":" Дальше нам нужно сообщение пользователю. Установим наш текст ошибки. Добрый. И соответственно сообщить. так а вот это исключение нам не нужно здесь так и еще раз пробуем Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 56 ===
{"text":" Так вот он нам сообщает о том, что у нас мы не можем так сделать. Ну и давайте еще... Мы же документ сделали перемещение товаров. Давайте проверим, как у нас так. Склад СПБ. У нас склад основной. Ну и точно так же добавим 11 штук. И попробуем провести. Так, а он нам дал на самом деле провести, а почему нам дал провести, потому что мы забыли сделать вот так, сделать в нашем в нашем документе перемещение. Потому что пока мы не записали у нас в базе это еще отсутствует. Ну, то есть в базе с нашей транзакцией. Так, и теперь еще раз. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 57 ===
{"text":" ну вот он точно также нам пишет о том что у нас недостающее количество одна штука так на самом деле что я еще хотел сделать Вот у нас остатки есть. Давайте завтра первым делом сделаем процедуру при обновлении системы. И вот эту процедуру мы запихнем в транзакцию, чтобы она была... Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 58 ===
{"text":" Ну, чтобы либо она полностью выполнилась у нас и изменилась версия конфигурации и поменялись остатки, либо она не выполнилась вовсе. Для этого нам нужна будет транзакция. Так, теперь... Так, а давайте сейчас у вас по идее у вас версия для разработчика поэтому в целом вам типа три сессии можно будет запустить давайте попробуем симулировать как раз длительное длительное проведение и как работает блокировка давайте вот сюда то есть давайте предположим что что у нас есть две сессии.","usage":{"type":"duration","seconds":60}}

=== Часть 59 ===
{"text":" в которых будет как раз конфликт за один и тот же ресурс на одном и том же складе. Для этого нам нужно будет создать блокировку данных. Здесь мы находимся внутри... в проведении... Ну, мы находимся внутри неявной транзакции. Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 60 ===
{"text":" Так, а мы на самом деле можем спокойно воспользоваться. У нас кусок кода уже прям присутствует в синтаксе с помощники и мы можем прям им же и воспользоваться. Давайте прям отсюда и сделаем. У нас есть блокировка данных. Дальше мы хотим заблокировать регистр накопления товара на складах у нас мы хотим заблокировать по складу режим блокировки исключительный потому что мы собираемся писать и нам надо еще источник блокировки.","usage":{"type":"duration","seconds":60}}

=== Часть 61 ===
{"text":" это у нас будет товары это мы если нам нужно массово заблокировать то есть мы хотим заблокировать и склад и товары и соответственно товары и у нас товар товар товар элемент блокировки это блокировка номер один и давайте еще И здесь мы сделаем еще вот так вот. Нам нужно сымитировать некое длительное проведение, чтобы у нас эта блокировка сработала. Потому что если мы даже в две сессии сделаем и проведем документ с одними и теми же измерениями, есть вероятность, ну точнее оно очень быстро отработает, и поэтому мы не сможем увидеть, как это работает. Поэтому нам нужно затормозить нашу систему, Да.","usage":{"type":"duration","seconds":60}}

=== Часть 62 ===
{"text":" И это мы сделаем не очень гуманным способом, потому что мы на самом деле таким образом нагрузим наш процессор из-за того, что мы будем сравнивать, ну, у нас будет достаточно много сравнений. Соответственно, нам нужно, чтобы отработало, нам нужно время окончания. Это будет текущая дата сеанса плюс 21 секунда. Потому что тайм-аут по блокировкам отваливается через 20 секунд. И дальше соответственно нам нужно в цикле... Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 63 ===
{"text":" так текущая текущая дата сеанса у нас пока она меньше время окончания блокировки Вот такую вот негуманную штуку мы и сделаем. Где-то я ошибки допустил. Склад. Так, а я где? А, я в перемещении товаров. Так, склад отправить. Так, и того, что мы сделали. Мы поставили Ставили блокировку","usage":{"type":"duration","seconds":60}}

=== Часть 64 ===
{"text":" Сделали так, чтобы она ждала 21 секунду. И теперь мы можем смело... Так, сейчас 21 секунду. Если у меня блокировка 21 секунда. Давайте чуть побольше сделаем, потому что 35 секунд пусть будет. Так, и теперь мы... Так, это мы сделали перемещение, которое нам поставит такую блокировку. И теперь нам надо запустить две сессии пользовательских. Так. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 65 ===
{"text":" еще одна так и давайте так так у нас один второй третий так так и давайте сейчас мы сделаем у нас есть перемещение закупки примечания товара.","usage":{"type":"duration","seconds":60}}

=== Часть 66 ===
{"text":" Давайте сделаем так, чтобы оно работало 5 штук. Второй документ мы сделаем реализация товаров. И здесь те же самые диски с того же склада будем реализовывать. Мы попробуем Сначала этот документ провести и этот провести. И посмотрим, что у нас происходит. И у нас возникла ошибка. так","usage":{"type":"duration","seconds":60}}

=== Часть 67 ===
{"text":" эта ошибка на самом деле возникла при проведении реализации товаров там мы блокировки никакой не ставили она там автоматически делается и давайте посмотрим текст ошибки но и соответственно видим что у нас возник конфликт при выполнении транзакций превышена максимальное время ожидания представление блокировки у нас блокировка ну тайм-аут по блокировке он секунд и что мы с вами здесь произвели мы с вами в документе в документе перемещение товаров мы с вами по товару по этому складу заблокировали чтобы другой пользователь не мог провести при этом смотрите если мы сделаем следующие то есть у нас здесь склад из pb так что у нас конечно какие у нас еще остатки.","usage":{"type":"duration","seconds":60}}

=== Часть 68 ===
{"text":" есть на начало завтрашнего дня, у нас еще на складе основном у нас есть шины. А вот если мы, допустим, захотим реализовать шины с основного склада, то наше перемещение товаров нам будет не помеха. То есть вот у нас спокойно провелось. Таким образом мы Если нам нужно вдруг реализовать какую-то логику, где эта логика может на самом деле работать. Это может работать при каких-нибудь сложных вычислениях себестоимости, или когда мы хотим какой-нибудь партионный учет организовать. И, например, нам нужно LIFO. Мы хотим по LIFO организовать Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 69 ===
{"text":" Лифа, ну, соответственно, последний пришел, первый ушел. И мы, допустим, хотим логику по лифа реализовать при реализации товаров. То есть мы проводим реализацию товаров и нам сразу, то есть мы выбираем последнюю партию из доступных. Соответственно, в этот момент у нас может возникнуть такой, пока мы проводим партию по лифа, кто-то успеет провести этот же товар на этот склад. И, соответственно, на самом деле учет лифа он поменяется и поэтому вот для такого обеспечения как бы нашей логике мы можем воспользоваться управляемыми блокировками так пока мы все это за комментируем и Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 70 ===
{"text":" Так, ну и заканчиваем. Так, может, у кого-то есть какие-то вопросы? Так, а я пока вас отмечу. Так. так и давайте немножко","usage":{"type":"duration","seconds":55}}

