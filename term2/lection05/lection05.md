# –õ–µ–∫—Ü–∏—è 5: Docker –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤ Linux

**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 20 –º–∏–Ω—É—Ç  
**–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:** –°—Ç—É–¥–µ–Ω—Ç—ã 3 –∫—É—Ä—Å–∞, –§–∞–∫—É–ª—å—Ç–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π  
**–ö—É—Ä—Å:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ 1–° —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ò–ò

## –¶–µ–ª—å –ª–µ–∫—Ü–∏–∏
–ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Linux, –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (chroot, namespaces, cgroups) –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker.

## –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–µ–¥–∑–Ω–∞–Ω–∏—è
- –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è Linux –∏ —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Linux
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö
- –ë–∞–∑–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π

---

## –ü–ª–∞–Ω –ª–µ–∫—Ü–∏–∏ (20 –º–∏–Ω—É—Ç)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Ä–µ–º—è –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≥–ª—É–±–∏–Ω—ã –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.

### –ë–ª–æ–∫ 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é (2 –º–∏–Ω—É—Ç—ã)

#### 1.1 –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ (2 –º–∏–Ω—É—Ç—ã)

**–ö–ª—é—á–µ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:**
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
- –Ø–¥—Ä–æ Linux –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–Ω–æ –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ –ø—Ä–æ—Ü–µ—Å—Å—ã
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –æ–±—ã—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ Linux**

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º (–ø–∞–º—è—Ç—å, CPU)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ —Å–µ—Ç–∏, –ø–æ –∫–æ—Ä–Ω—é, –ø–æ PID –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
- –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ **namespaces**

**–í–∞–∂–Ω–æ:**
- –î–ª—è –∏–∑—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –±–∞–∑–∞ –ø–æ Linux
- –≠—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–±–æ—Ç—ã —Å Linux

---

### –ë–ª–æ–∫ 2: –ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ chroot (5 –º–∏–Ω—É—Ç)

#### 2.1 –ß—Ç–æ —Ç–∞–∫–æ–µ chroot (2 –º–∏–Ω—É—Ç—ã)

**chroot (change root)** ‚Äî —Å–∞–º–æ–µ –¥—Ä–µ–≤–Ω–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –∏–∑–æ–ª—è—Ü–∏–∏, –∏–∑–≤–µ—Å—Ç–Ω–æ–µ –µ—â–µ —Å Unix.

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**
- –°–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –∑–∞–º–µ–Ω—ã –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—É –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- –û—Ç —ç—Ç–æ–≥–æ –∫–æ—Ä–Ω—è –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –≤—Å–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏

**–£—Ç–∏–ª–∏—Ç–∞ chroot:**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—É —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥
- –ó–∞—Ç–µ–º –∑–∞–º–µ—â–∞–µ—Ç —Å–µ–±—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `exec`

---

#### 2.2 –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å chroot (3 –º–∏–Ω—É—Ç—ã)

**–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
   ```bash
   mkdir /tmp/ai307
   ```

2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ shell:**
   ```bash
   which sh  # —É–∑–Ω–∞–µ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ shell
   cp -r /usr/bin /tmp/ai307/
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   ldd /usr/bin/sh  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   ```

4. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   tar cf - /lib/x86_64-linux-gnu/libc.so.6 /lib64/ld-linux-x86-64.so.2 | tar x -C /tmp/ai307
   ```

5. **–ó–∞–ø—É—Å–∫ chroot:**
   ```bash
   chroot /tmp/ai307 /bin/sh
   ```

**–ü—Ä–æ–±–ª–µ–º—ã chroot:**
- –ù–µ—Ç –∫–æ–º–∞–Ω–¥ (ls –∏ —Ç.–¥.)
- –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ busybox

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ busybox:**
```bash
mkdir /tmp/ai307/bin
# —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ busybox
chmod +x busybox
cp busybox /tmp/ai307/bin/
chroot /tmp/ai307 /bin/busybox sh
```

**–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫:**
```bash
busybox --install -s /tmp/ai307/bin
```

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ /proc:**
```bash
mkdir /tmp/ai307/proc
mount -t proc none /tmp/ai307/proc
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è chroot:**
- –ò–∑–æ–ª–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- **–ù–µ –∏–∑–æ–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã** ‚Äî –≤–∏–¥–Ω—ã –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Ö–æ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- **–ù–µ –∏–∑–æ–ª–∏—Ä—É–µ—Ç —Å–µ—Ç—å**
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

---

### –ë–ª–æ–∫ 3: Namespaces ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω (5 –º–∏–Ω—É—Ç)

#### 3.1 –ß—Ç–æ —Ç–∞–∫–æ–µ namespaces (2 –º–∏–Ω—É—Ç—ã)

**Namespaces** ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Linux, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –¥–µ–ª–µ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–º–Ω–æ–≥–∏–º —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º chroot.

**–¢–∏–ø—ã namespaces:**

1. **PID namespace (–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å–æ–≤):**
   - –ò–∑–æ–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã —Ç–∞–∫, —á—Ç–æ –æ–Ω–∏ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º–µ–Ω
   - –í –∫–∞–∂–¥–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –Ω—É–º–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –µ–¥–∏–Ω–∏—Ü—ã
   - PID —Ä–∞–∑–ª–∏—á–Ω—ã—Ö namespaces –º–æ–≥—É—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å

2. **Mount namespace:**
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–¥–µ—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã, —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ

3. **Network namespace:**
   - –ò–∑–æ–ª–∏—Ä—É–µ—Ç —Å–µ—Ç—å

4. **IPC namespace:**
   - –ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, —Å–µ–º–∞—Ñ–æ—Ä—ã –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ

5. **User namespace:**
   - –ò–∑–æ–ª–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ ID
   - –í –∫–∞–∂–¥–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –º–æ–≥—É—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –Ω—É–ª—è
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (root)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç namespaces:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞—Ö
- –ü—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–≤–æ–∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø—Ä–∏ —Ä–æ–∂–¥–µ–Ω–∏–∏
- –ü—Ä–∏ —Ä–æ–∂–¥–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–º –≤—ã–∑–æ–≤–æ–º `clone` –∏–ª–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `unshare` –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

---

#### 3.2 –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å unshare (3 –º–∏–Ω—É—Ç—ã)

**–£—Ç–∏–ª–∏—Ç–∞ unshare:**
- –°–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω
- –ó–∞—Ç–µ–º –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤ –Ω–µ–º –∑–∞–¥–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
- –ü–æ–¥–æ–±–Ω–æ —É—Ç–∏–ª–∏—Ç–µ chroot, –Ω–æ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–µ–π

**–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
```bash
unshare -m -n -p chroot /tmp/ai307 /bin/busybox sh
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `-m` ‚Äî mount namespace
- `-n` ‚Äî network namespace
- `-p` ‚Äî PID namespace

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏:**
```bash
ps aux  # –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞—à–µ–≥–æ namespace
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–Ω –æ–∫–æ–ª–æ–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –ø–æ mount, —Å–µ—Ç–∏ –∏ PID
- –≠—Ç–æ —É–∂–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ namespaces:**
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ namespaces –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- –ü–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å –Ω–∏–º–∏, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### –ë–ª–æ–∫ 4: Control Groups (cgroups) (4 –º–∏–Ω—É—Ç—ã)

#### 4.1 –ß—Ç–æ —Ç–∞–∫–æ–µ cgroups (2 –º–∏–Ω—É—Ç—ã)

**Control Groups (cgroups)** ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π –∫–æ—Ä–Ω–µ–≤–æ–π –≥—Ä—É–ø–ø–µ
- –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—ã –≤ –ª—é–±—ã—Ö –≥—Ä—É–ø–ø–∞—Ö
- –û–±—Ä–∞–∑—É–µ—Ç—Å—è –∏–µ—Ä–∞—Ä—Ö–∏—è –≥—Ä—É–ø–ø
- –ü—Ä–æ—Ü–µ—Å—Å—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –≤ –≥—Ä—É–ø–ø—ã
- –ù–∞ –≥—Ä—É–ø–ø—ã –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è —Ä–µ—Å—É—Ä—Å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, CPU –∏ –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

---

#### 4.2 –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å cgroups (2 –º–∏–Ω—É—Ç—ã)

**–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã:**
```bash
mkdir /sys/fs/cgroup/ai307
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
```bash
echo 524288 > /sys/fs/cgroup/ai307/memory.max
# 0.5 –ú–ë = 524288 –±–∞–π—Ç
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ cgroup:**
```bash
ps aux | grep busybox  # –Ω–∞—Ö–æ–¥–∏–º PID –ø—Ä–æ—Ü–µ—Å—Å–∞
echo <PID> > /sys/fs/cgroup/ai307/cgroup.procs
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø–∞–º—è—Ç—å
- OOM Killer —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- –°–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –∂–∏–≤—ã–º

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
```bash
dmesg | grep OOM
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –ø–∞–º—è—Ç–∏, –Ω–æ –∏ –ø–æ CPU
- –ï—Å—Ç—å —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏–µ–π 1 –∏ –≤–µ—Ä—Å–∏–µ–π 2 cgroups

---

### –ë–ª–æ–∫ 5: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å runc (4 –º–∏–Ω—É—Ç—ã)

#### 5.1 Open Container Initiative –∏ runc (1 –º–∏–Ω—É—Ç–∞)

**Open Container Initiative (OCI):**
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–Ω—Ç–∞–π–º–∞
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**runc:**
- –ù–µ–±–æ–ª—å—à–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π OCI –≤ Linux
- –í—Å–µ –µ—â–µ –Ω–∏–∫–∞–∫–æ–≥–æ Docker
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

**–°–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:**
- Docker
- LXC
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç runc –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

---

#### 5.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è runc (1 –º–∏–Ω—É—Ç–∞)

**–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
mkdir /tmp/rc307
cd /tmp/rc307
runc spec
```

**config.json ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:**

1. **ociVersion** ‚Äî –≤–µ—Ä—Å–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OCI (1.2.0)

2. **process:**
   - `args` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, shell)
   - `user` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (UID 0 = root)
   - `env` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - `cwd` ‚Äî —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–∫–æ—Ä–µ–Ω—å)
   - `capabilities` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏, —É–±–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —Ç.–¥.)

3. **root:**
   - `path` ‚Äî –∫–æ—Ä–Ω–µ–≤–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (rootfs)
   - `readonly` ‚Äî —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

4. **hostname** ‚Äî –∏–º—è —Ö–æ—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

5. **mounts** ‚Äî —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - –ù–∞–ø—Ä–∏–º–µ—Ä, /proc, /dev
   - `/dev` —Ç–∏–ø–∞ `tmpfs` ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏

6. **linux** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è Linux
   - **namespaces** ‚Äî –∑–Ω–∞–∫–æ–º—ã–µ –Ω–∞–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω

**–í–∞–∂–Ω–æ –ø—Ä–æ Docker-–æ–±—Ä–∞–∑—ã:**
- –ö–æ–≥–¥–∞ –≥–æ–≤–æ—Ä—è—Ç –ø—Ä–æ Docker-–æ–±—Ä–∞–∑—ã –∫–∞–∫ "—Å–ª–æ–µ–Ω—ã–π –ø–∏—Ä–æ–≥"
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker-–æ–±—Ä–∞–∑ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ OCI Bundle
- –í—Å–µ —Å–ª–æ–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–µ –∫–æ—Ä–Ω–µ–≤–æ–µ —Ñ–∞–π–ª–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ (rootfs)
- `config.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –°–ª–æ–µ–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–∑–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å –∏ –ª–µ–≥–∫–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

#### 5.3 –°–æ–∑–¥–∞–Ω–∏–µ rootfs –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (2 –º–∏–Ω—É—Ç—ã)

**–°–æ–∑–¥–∞–Ω–∏–µ rootfs —Å debootstrap:**
```bash
debootstrap jammy rootfs
```

**debootstrap:**
- –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑–æ–≤–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã Debian/Ubuntu
- –°–∫–∞—á–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (/usr/bin, /bin –∏ —Ç.–¥.)

**–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
```bash
runc run rc307
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏:**
```bash
# –î–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
readlink /proc/$$/ns/pid
readlink /proc/$$/ns/net
readlink /proc/$$/ns/mnt

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
readlink /proc/1/ns/pid
readlink /proc/1/ns/net
readlink /proc/1/ns/mnt
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Namespaces –æ—Ç–ª–∏—á–∞—é—Ç—Å—è
- PID 1 ‚Äî —ç—Ç–æ –Ω–∞—à –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å (shell)
- –≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞ –Ω–µ –ø—Å–µ–≤–¥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ rootfs:**
- –û–±—ã—á–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏
- –í `/usr/bin` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø—Ä–∏–≤—ã—á–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (shell, —É—Ç–∏–ª–∏—Ç—ã –∏ —Ç.–¥.)

---

## –†–µ–∑—é–º–µ –ª–µ–∫—Ü–∏–∏ (2 –º–∏–Ω—É—Ç—ã)

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è:**
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞
   - –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ Linux
   - –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

2. **–ú–µ—Ö–∞–Ω–∏–∑–º—ã –∏–∑–æ–ª—è—Ü–∏–∏:**

   **chroot:**
   - –î—Ä–µ–≤–Ω–∏–π –º–µ—Ç–æ–¥ –∏–∑–æ–ª—è—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
   - –ò–∑–æ–ª–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
   - –ù–µ –∏–∑–æ–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —Å–µ—Ç—å

   **Namespaces:**
   - PID namespace ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - Mount namespace ‚Äî –∏–∑–æ–ª—è—Ü–∏—è —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
   - Network namespace ‚Äî –∏–∑–æ–ª—è—Ü–∏—è —Å–µ—Ç–∏
   - IPC namespace ‚Äî –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
   - User namespace ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

   **cgroups:**
   - –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏, CPU –∏ –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä—É–ø–ø

3. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
   - –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑ Docker
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `unshare` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è namespaces
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `runc` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OCI
   - `config.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - `rootfs` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

4. **Docker –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º:**
   - Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (namespaces, cgroups)
   - Docker-–æ–±—Ä–∞–∑—ã ‚Äî —ç—Ç–æ —Å–ª–æ–µ–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ OCI Bundle (rootfs + config.json)
   - Docker —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

---

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ü–æ–Ω–∏–º–∞–Ω–∏–µ vs –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
   - –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤—Ä—É—á–Ω—É—é
   - –≠—Ç–æ –∫–æ–Ω—Ç—Ä–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
   - –ù–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

2. **–ü—É—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–∞:**
   - –ù–µ –Ω—É–∂–Ω–æ —É—á–∏—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–∏–∑—É—Å—Ç—å
   - –í–∞–∂–Ω–æ –∏–º–µ—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å –±–µ–ª—ã–µ –ø—è—Ç–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ –∑–Ω–∞–Ω–∏–π

3. **–ü—Ä–∞–∫—Ç–∏–∫–∞:**
   - –ü—Ä–æ–π—Ç–∏—Å—å —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Ä—É—á–Ω—É—é
   - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Obsidian)
   - –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ –ø—Ä–æ–∫–∞—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤

4. **–î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ:**
   - –ü—Ä–æ Docker –∏ Docker Compose –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - –≠—Ç–æ —É–∂–µ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ–º—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ç–µ–º, —á—Ç–æ –º—ã –¥–µ–ª–∞–ª–∏ —Å–µ–≥–æ–¥–Ω—è
   - –í–∞–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥ –∫–∞–ø–æ—Ç, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –º–∞–≥–∏—é Docker

---

### –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏:

1. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —è–¥—Ä–∞ Linux?
2. –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–º–µ–µ—Ç chroot?
3. –ß—Ç–æ —Ç–∞–∫–æ–µ namespaces –∏ –∫–∞–∫–∏–µ —Ç–∏–ø—ã namespaces —Å—É—â–µ—Å—Ç–≤—É—é—Ç?
4. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PID namespace –∏ –æ–±—ã—á–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏?
5. –ß—Ç–æ —Ç–∞–∫–æ–µ cgroups –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?
6. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ cgroups?
7. –ß—Ç–æ —Ç–∞–∫–æ–µ OCI –∏ runc?
8. –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç config.json –¥–ª—è runc?
9. –ß—Ç–æ —Ç–∞–∫–æ–µ rootfs –∏ –∫–∞–∫ –æ–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è?
10. –ö–∞–∫ Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã Linux –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤?
11. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Docker-–æ–±—Ä–∞–∑–æ–º –∏ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º?

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å:

**–ó–∞–¥–∞–Ω–∏—è –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:**

1. **–†–∞–±–æ—Ç–∞ —Å chroot:**
   - –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å shell –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å chroot
   - –î–æ–±–∞–≤–∏—Ç—å busybox –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
   - –°–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å /proc

2. **–†–∞–±–æ—Ç–∞ —Å namespaces:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å unshare –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å mount, network –∏ PID namespaces
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–æ–ª—è—Ü–∏—é –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

3. **–†–∞–±–æ—Ç–∞ —Å cgroups:**
   - –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é –≥—Ä—É–ø–ø—É
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤ cgroup
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

4. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å runc:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å runc
   - –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é `runc spec`
   - –ò–∑—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É config.json
   - –°–æ–∑–¥–∞—Ç—å rootfs —Å –ø–æ–º–æ—â—å—é debootstrap
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–æ–ª—è—Ü–∏—é namespaces

5. **–ò–∑—É—á–µ–Ω–∏–µ Docker:**
   - –ò–∑—É—á–∏—Ç—å, –∫–∞–∫ Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç runc
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Docker-–æ–±—Ä–∞–∑–∞
   - –ü–æ–Ω—è—Ç—å, –∫–∞–∫ —Å–ª–æ–∏ –æ–±—Ä–∞–∑–∞ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ rootfs

---

## –°–ª–µ–¥—É—é—â–∞—è –ª–µ–∫—Ü–∏—è:

**–õ–µ–∫—Ü–∏—è 6: Docker –¥–ª—è –∑–∞–ø—É—Å–∫–∞ MCP –∏ —Ä–∞–±–æ—Ç—ã —Å 1–°**

**–ü–ª–∞–Ω –ª–µ–∫—Ü–∏–∏:**
1. –í–≤–µ–¥–µ–Ω–∏–µ –≤ Docker (—á—Ç–æ —Ç–∞–∫–æ–µ Docker, –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Docker)
2. –ü–æ—á–µ–º—É Docker –¥–ª—è MCP? (–∑–∞–ø—É—Å–∫ MCP –±–µ–∑ Docker, –∑–∞–ø—É—Å–∫ MCP —Å Docker)
3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Docker (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Engine, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã)
4. –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker (–æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker, –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker Compose)
5. –†–∞–±–æ—Ç–∞ —Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (–∏–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤, volumes, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
6. Docker Compose —Ñ–∞–π–ª—ã (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker Compose —Ñ–∞–π–ª–∞, –ø—Ä–∏–º–µ—Ä—ã –∏ —à–∞–±–ª–æ–Ω—ã)
7. Docker –¥–ª—è 1–° (–±–æ–Ω—É—Å) (–∑–∞—á–µ–º Docker –¥–ª—è 1–°?, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 1–° –≤ Docker)

**–î–æ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –ª–µ–∫—Ü–∏–∏! –í–æ–ø—Ä–æ—Å—ã?** üéì

