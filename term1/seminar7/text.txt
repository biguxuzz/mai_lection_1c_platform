=== Часть 1 ===
{"text":" ... ... ... ... ... ... ... Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 2 ===
{"text":" Включим. Включим. Включим. Включим. Включим. Включим. Включим. Спасибо. Слышите?","usage":{"type":"duration","seconds":60}}

=== Часть 3 ===
{"text":" Спасибо. ну давайте начнем во первых у нас есть такая штука как подсистемы вот подсистема они нам зачем нужно да вот под системами чем нам помогает подсистемы Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 4 ===
{"text":" Да, ну, то есть основное это вот разбиение по наших объектов, по интерфейсам, нам это сильно помогает, ну и плюс на самом деле по подсистеме можно и отбор в конфигурации, допустим, сделать, если мы хотим, допустим, посмотреть, что у нас входит в подсистему, мы вот Adopter сделали и видим только то, что относится к этой подсистеме. Так, а вот теперь к функциональным опциям. То есть, ну, можно из названия в принципе так предположить. То есть это опция функции. Функция, которую можно использовать... Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 5 ===
{"text":" ну да и соответственно мы функциональными опциями мы можем часть функционала либо включить либо выключить вот всей программы естественно то есть так а где у нас хранятся то есть как как мы храним значение функциональной опции включена она или не включена помнить галочку ну да естественно вот где мы храним эту галочку да в константах ну либо в регистре сведений так ну и соответственно приходу не товара по складам мы тоже сделаем зависимо что она нам нужно только в случае использования складов Субтитры создавал DimaTorzok","usage":{"type":"duration","seconds":60}}

=== Часть 6 ===
{"text":" Здесь мы сделаем склад. Ну и табличную часть товара. Так, мы с вами также воспользуемся. Так, сейчас. Вот движение.","usage":{"type":"duration","seconds":60}}

=== Часть 7 ===
{"text":" движения нам нужны только по регистру товарных складах сразу добавим право пусть это будет на просмотр у этого пользователя так Здесь тоже самое, просмотр. И внешнее подключение тоже просмотр. Так. Ну и собственно в модуле объекта сделаем конструктор. Конструктором движений. Приход. Воздух. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 8 ===
{"text":" Здесь нам никакого контроля, естественно, не нужно делать. Этот документ нам нужен для выравнивания остатков. так и давайте проверим у нас версия нашей системы 1 01 и давайте при начале работы системы события мы можем посмотреть список","usage":{"type":"duration","seconds":60}}

=== Часть 9 ===
{"text":" доступных нам. Можно вот здесь посмотреть. \"Перед началом работы системы\". При начале работы системы. И здесь реализуем логику, что если у нас поменялась версия на версию следующую, мы сделаем чтобы у нас автоматически мы оприходовали наши все отрицательные остатки так и версия системы мы можем посмотреть в у нас есть метаданных можем посмотреть Посмотрите.","usage":{"type":"duration","seconds":60}}

=== Часть 10 ===
{"text":" у нас есть объект метаданные версия из но естественно нам нужно еще где-то хранить версию которая у нас в текущей нашей базе александр в какой версии будем где мы будем выхранить версию как вы думаете я уже сомневался . где нам хранить версию системы которая у нас но допустим мы хотим контролировать что если к нам прилетел новое обновление то есть конфигурация более новые чем","usage":{"type":"duration","seconds":60}}

=== Часть 11 ===
{"text":" у нас в базе, соответственно, нам нужно сделать какие-то действия и потом сохранить версию, на которую мы перешли. а если в регистре то в каком но backup и это бы тоже нам нужно развернуть backup туда цену это короче это другая система правильно Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 12 ===
{"text":" Давайте вспомним какие объекты нам доступны. Справочники подходят для версий? Ну, на самом деле тоже можно было бы, но это не очень удобно с этим работать. Ну, по сути, версия это что? Это у нас будет эта же строчка. Соответственно, отдельный справочник для версий, наверное, создавать не очень удобно. Хорошая идея. Документ тоже не подойдет. Что у нас еще есть из объектов хранения? Функциональная опция сама по себе не хранит. То есть функциональная опция ссылается на константу, чтобы хранить версию. Включено или не включено. Воробьевская хранительная.","usage":{"type":"duration","seconds":60}}

=== Часть 13 ===
{"text":" Ну, да, логичнее всего либо в константах, либо если хранить, допустим, в регистре сведений. Но в регистре сведений обычно мы делаем это для того, что когда у нас система состоит из нескольких подсистем, например, библиотека стандартных подсистем, нам нужно знать, какая версия, допустим, еще какой-то модуль работы с EDO, это отдельная подсистема. Тогда имеет смысл выделить регистр сведений, в котором у нас будет измерение это подсистема и значением будет версия а здесь нам проще всего конечно создать константу ну можно и оставить также что она у нас Строка 1.","usage":{"type":"duration","seconds":60}}

=== Часть 14 ===
{"text":" 10 я думаю нам хватит чтобы нам никуда не ругнулась нам скорее всего ее нужно будет сохранить в какой-то из наших подсистем мы ее сохраним в сервис так сейчас И на самом деле мы можем у этой константы, тут есть еще такая штука, как использовать стандартные команды. Так, нет, сейчас. Так. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 15 ===
{"text":" то есть сейчас если мы запустим то у нас от версия она появится в интерфейсе так чем ассистент так так вот она у нас сервис версия конфигурации появилась мы можем на самом деле их исключить чтобы допустим там через какой-то форма констант использовать они показывают вот она у нас появилась использование версия конфигурации а так и раз 16 семинар Да.","usage":{"type":"duration","seconds":60}}

=== Часть 16 ===
{"text":" Давайте подумаем, как теперь код нам составить так, чтобы у нас... У нас есть метаданные версии. Если мы не очень понимаем, какой у нас контекст есть, мы можем всегда поставить точку останова и запустить систему, попасть на эту точку останова и что у нас например в версии так метаданные так мы в каком контексте так нам здесь метаданные недоступны Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 17 ===
{"text":" Так, а что нам здесь доступно? При начале работы системы... Научное должно быть доступным Почему нет? Так, переменная не определена Так, он у нас доступен в","usage":{"type":"duration","seconds":60}}

=== Часть 18 ===
{"text":" сервере толстый клиент внешне а может мы в этом в клиентском сейчас а где мы находимся отладка потому что мы находимся в контексте тонкого то есть мы в контексте клиентском сейчас находимся а нам нужно в серверном контексте находиться так тогда мы сделаем пока что он еще здесь доступно из процедур давайте вызовем так это у нас получается сейчас поиск синтаксис событий Вот.","usage":{"type":"duration","seconds":60}}

=== Часть 19 ===
{"text":" Тогда нам надо вызвать... Так, а мы здесь можем? Так. Перед началом работы системы И здесь мы сделаем общий модуль обновления системы. И в этом модуле... Так, он у нас будет серверный. И... Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 20 ===
{"text":" У нас будет серверный. И здесь мы сделаем процедуру обновления. Сейчас это у нас обновление, проверка версии. Вот. Сделаем её экспортная. Ну и также здесь поставим точку останова. Так, сейчас нам только надо нашу тату закрыть. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 21 ===
{"text":" так а здесь в при начале работы системы мы сделаем вызов наш так вот так мы перенесем сюда так так у нас получается нам нужно делать чтобы у нас вызов сервер был.","usage":{"type":"duration","seconds":60}}

=== Часть 22 ===
{"text":" Так, ну и вот здесь мы попали в нашу... на эту точку останова. Давайте проверим, что нам доступно. что здесь под версией подразумевается и как с ним дальше работать. Вот у нас версия 1.0.1. И, соответственно, а также у нас есть константа, которую мы, кстати, сейчас... Мы под администратором, поэтому нам сейчас... С правами у нас сейчас никаких проблем не будет, но если бы это был обычный пользователь, возможно, мы бы... сейчас","usage":{"type":"duration","seconds":60}}

=== Часть 23 ===
{"text":" С константами в коде достаточно просто работать. Вызываем менеджер метаданных. Версия конфигурации. Получить. И это у нас будет текущая версия. Давайте проверим, как это работает. В отладке, естественно, мы это сможем сделать. И у нас там сейчас пустота. И, соответственно, есть ли у нас проверка версии системы, есть ли у нас текущая версия системы. Вот. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 24 ===
{"text":" так это текущая версия это давайте назовем тоже отдельную переменную просто вынесем Ну, соответственно, логично, что нам нужно сначала попытаться установить нашу константу. Вот. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 25 ===
{"text":" в версию конфигурации. Точнее, это будет нелогично. Это нам нужно в самом конце будет сделать. Так, почему-то лишний пробел организовался. Так, И следующее, что нам надо сделать, собственно, саму процедуру обновления. То есть мы сейчас с вами что сделали? Мы сравнили версию и решили, что если у нас версия текущая, версия конфигурации, точнее, версия внутри базы отличается, то мы установим в конечном итоге. Но до этого нам, наверное, нужно... Если мы хотим сделать","usage":{"type":"duration","seconds":60}}

=== Часть 26 ===
{"text":" процедуры которые будут зависеть от версии нам нужно здесь эту логику прописать давайте собственно и это будет зависеть от версии которые мы если версия конфигурация но и вот здесь мы можем как раз уже оперировать к определенным версиям, то есть допустим при обновлении на версию 1.1.2 и здесь у нас будет отдельная процедура обновления для этой версии Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 27 ===
{"text":" Спасибо. и эту функцию нам уже не нужно делать экспортные так а вот здесь нам нужно сначала понять надо собрать остатки и соответственно сгнили.","usage":{"type":"duration","seconds":60}}

=== Часть 28 ===
{"text":" документы по которым мы будем эти остатки делать для этого так для этого это нужно сделать как мы собираем соберем остатки нам нужно только отрицательные остатки собрать и сгруппировать их еще по складу. Ну, а каким объектом мы это будем делать? Как вообще? То есть, как в коде это сделать? Ну, давайте вспомним, какие объекты, как мы можем работать с данными. У нас есть две модели работы. У нас есть объектные.","usage":{"type":"duration","seconds":60}}

=== Часть 29 ===
{"text":" модель есть там искренняя модель с помощью запросов как как нам здесь нам что лучше применить для того чтобы получить именно отрицательные остатки Мы должны к менеджеру регистра накопления обратиться дальше пробежаться по его записям, но это долгий путь. Да, вот о чем...","usage":{"type":"duration","seconds":60}}

=== Часть 30 ===
{"text":" Чем мы там пользовались? Какой объект использовали? Мы использовали запросы. Соответственно, первое, что нам надо сделать, нам надо сделать запрос, который нам вернет отрицательные остатки, загруппированные по складам. Так. Я же правильно запомнил. Так. Продолжение следует.","usage":{"type":"duration","seconds":60}}

=== Часть 31 ===
{"text":" у нас есть замечательный конструктор запроса и у нас есть регистр накопления так давайте подумаем а что нам отсюда нужно в каком мы хотим по товарам на складах сделать отрицательные остатки все я одна нам как-то эти остатки то есть товарный складах остатки в целом мы наверно хотим но сейчас нам наверно неважно то есть мы наконец периода просто возьмем дальше соответственно нам нужно с группой","usage":{"type":"duration","seconds":60}}

=== Часть 32 ===
{"text":" Нам нужно сделать итоги по складам. Параметров нам здесь никаких не нужно. и дальше мы а естественно условия же нам нужно так он все нам остатки вернет на условии какой-то все верно меньше на самом деле нам не нужно это параметрам даже делать мы можем просто меньше нуля.","usage":{"type":"duration","seconds":60}}

=== Часть 33 ===
{"text":" И на самом деле этот запрос нам вернет не плоскую таблицу, а на самом деле он нам вернет дерево, где у нас первым уровнем будут склады, а дальше под ним, если на этом складе есть отрицательные остатки, под ним уже вернут товары. С количеством. С количеством. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 34 ===
{"text":" Если у нас пустой запрос, то у нас сразу закончатся наши условия и нам ничего делать не нужно будет. А вот если у нас не пустой... Нам придется пробежаться и посоздавать документы о приходовании товара. И, кстати, так как у нас количество остаток, по сути, нам вернет отрицательную сумму, мы ее сразу здесь сделаем положительной и уберем слово","usage":{"type":"duration","seconds":60}}

=== Часть 35 ===
{"text":" чтобы можно было сразу запихнуть по заполнить значения свойств так и следующее что нам нужно это собственно выбрать выполнить выборку у нас будет их у нас будет две выборки сначала по так по группировкам Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 36 ===
{"text":" Почему она пробилась? ну а внутри цикла соответственно нам нужно что-то сделать что надо сделать какие предположения то есть нам запрос этот вернет следующее у нас будет а давайте прям посмотрим мы всегда можем сначала Пока!","usage":{"type":"duration","seconds":60}}

=== Часть 37 ===
{"text":" Посмотреть, что нам вернет запрос. До этого у нас всегда есть консолька запросов. Так, и на самом деле мы с вами сейчас установили версию конфигурации, мы можем проверить. Она сейчас равна 1.0.0.1. Так, теперь нам надо... Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 38 ===
{"text":" У нас есть была консоль кода, нам нужна консоль запросов. так проблема в том что эта консоль запросов она не умеет работать с итогами я так понимаю что осмотр предположениями до короче она не она не в воспринимает.","usage":{"type":"duration","seconds":60}}

=== Часть 39 ===
{"text":" если мы как только мы работают и только с итогами включаем он не понимает он выводит именно как таблицу плоскую вот а при этом он не учитывает что она может вернуться на самом деле не таблица а дерево но такая но это самая простенькая консоль на самом деле если мы откроем чуть-чуть посложнее то там все будет все приятнее но у меня нет стандартных библиотек по системам здесь поэтому мы сейчас но в целом без итогов мы видим что у нас количество шин вот здесь не хватает и без склада дисков вот здесь и того нам получается нужно будет создать документов консоль запросов Нам не нужно сейчас...","usage":{"type":"duration","seconds":60}}

=== Часть 40 ===
{"text":" Так, какие предположения, что мы здесь должны сделать? Сейчас мы получили... Давайте сразу следующий цикл тоже сделаем. Это у нас будет выборка товаров. по складу выбрать обход результата запроса по группировкам ну и собственно здесь у нас все то же самое повторяется Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 41 ===
{"text":" Так, ваше предположение, что здесь мы должны сделать? Напомню, у нас есть дерево метаданных. Оно есть. Так, где оно у нас? Вот оно у нас. Вот оно у нас. мы с вами сделали документ о приходовании товаров вот собственно для этой цели и сделали для того чтобы при проведении он нам закрыл отрицательные остатки поэтому нам сначала нужно естественно вот мы получили склад на каждый склад у нас в этом документе в шапке поэтому нам на каждый склад нужно создать документ то есть у нас получится","usage":{"type":"duration","seconds":60}}

=== Часть 42 ===
{"text":" Первым делом мы здесь должны создать документ. Нет, документы. Приходование товаров. Создать документ. Далее нам нужно, естественно, у этого документа, ну номер он присвоится автоматически, а вот дату нам надо как-то подумать, какая у нас будет дата. Давайте пусть это будет некая функция. Дальше. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 43 ===
{"text":" давайте просто сделаем текущую дату пусть у нас пока себе облегчим жизнь Склад. У нас из выборки будет. Так. А у нас тут надо помнить о том, что у меня здесь сгдат. Я так и не поправил. Так. И что? Вот мы с вами здесь создали документ. Ну,","usage":{"type":"duration","seconds":60}}

=== Часть 44 ===
{"text":" Ну и естественно, нам нужно его в конце записать. И режим записи. Это у нас будет проведение. И сразу проведем. А вот в этом цикле нам нужно в табличную часть нашего созданного документа подобавлять... наши товары, которые с отрицательным остатком. ... ... ... Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 45 ===
{"text":" а здесь можно воспользоваться хорошим тоном то есть мы либо будем для каждого реквизита делать строка товары точка реквизит а можно есть стандартная функция которая заполняет стандартная процедура которая заполняет по одинаковым именам реквизиты у разных калек то есть у нас есть две структуры и вот у этой структуры по именам идёт сопоставление и происходит заполнение. Это есть такая штука как заполнить значение свойств. Строка товара это у нас приемник, выборка по складу это источник. Здесь также можно на самом деле фильтр того, что мы характеризуем.","usage":{"type":"duration","seconds":60}}

=== Часть 46 ===
{"text":" если мы вдруг какие-то не хватим реквизиты заполнять. Ну и таким образом мы с вами заполнили товар, точнее заполнили документ, здесь мы его запишем и проведем. Теперь, соответственно, нам для того, чтобы это все отработало, давайте на самом деле понесем здесь небольшой косяк. Здесь мы... Давайте представим, что таких остатков может быть достаточно много и документ может долго проводиться. Что у нас может пойти не так? У нас, соответственно, может создаться... Во-первых, константа может записаться. Ммм.","usage":{"type":"duration","seconds":60}}

=== Часть 47 ===
{"text":" лишним. И нам нужно организовать... Вот здесь как раз лучше всего организовать нам транзакцию. То есть нам нужно сделать следующим образом. Мы либо устанавливаем версию конфигурации новую, но у нас должны записаться все документы, либо мы этого ничего не делаем. И для этого мы можем сделать следующим образом. Мы можем организовать как раз транзакцию то есть чтобы у нас вот смотрите у нас вот здесь вот при записи у нас будет организовано несколько транзакций на каждый склад но при этом они отработают каждая по отдельности а нам нужно это как бы все объединить и сделать так что если у нас что-то пойдет не так чтобы не делалось ничего то есть либо сделалось все либо ничего и для этого мы как раз вот здесь можем сделать","usage":{"type":"duration","seconds":60}}

=== Часть 48 ===
{"text":" начать транзакцию. Дальше у нас здесь будет попытка. Здесь мы выполним наш кусок кода, который мы хотим, чтобы он был полированный. выполнен весь здесь мы сделаем зафиксируем транзакцию а в исключении мы сделаем отмена транзакции не конец попытки так ну и давайте проверим как это Работаю.","usage":{"type":"duration","seconds":60}}

=== Часть 49 ===
{"text":" Если мы сейчас обновим до версии 1.0.2, то у нас давайте здесь что-нибудь исключительное сделаем. Исключительную ситуацию сделаем, ну, например, t равно 7 разделить на 0. Это исключительная ситуация. Соответственно, у нас эта транзакция прервется и таким образом мы не заполним версию конфигурации и у нас не сделаются эти документы. Давайте проверим, как это сработает. Для того, чтобы у нас это все запустилось, нам нужно поменять версию. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 50 ===
{"text":" Ну и теперь мы можем видеть о том, что у нас на самом деле остатки товаров так и остались отрицательными. А версия соответственно не поменялась. Теперь мы наш вот этот кусок кода, который мы создали исключением. Теперь проверяем версию конфигурации. Вот она у нас. поменялось.","usage":{"type":"duration","seconds":60}}

=== Часть 51 ===
{"text":" нас остатки товаров на почему-то остались почему так а приходу они так что у меня во первых только склад из побытовар количество давайте в отладку смог посмотрим что у нас Так, во-первых, нам нужно вручную тогда сделать версию конфигурации, чтобы она у нас была. Так, и почему? Во-первых, у нас документ почему-то только один. Хотя их должно быть несколько. Вот. Продолжение следует...","usage":{"type":"duration","seconds":60}}

=== Часть 52 ===
{"text":" Давайте поставим точку останова. Так, сюда он заходит. Результат запроса у нас не пустой. Так, склад у нас. А, ну все правильно. Так, пока выборка по складу. Я здесь перепутал. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 53 ===
{"text":" товаров он здесь должна быть и вот здесь у меня тоже естественно выборка товаров должна быть так можно . останова снимать Так, ну и теперь проверим, что у нас здесь организовалось. То есть вот у нас шина приходилась на склад СПБ и два диска. И смотрим наши отчеты. Ну и соответственно отрицательных остатков здесь больше нету. Спасибо.","usage":{"type":"duration","seconds":60}}

=== Часть 54 ===
{"text":" таким образом мы с вами сделали процедуру обновления нашей конфигурации чтобы она у нас чтобы при допустим мы выпускаем какой-то релиз где хотим что-то подправить и соответственно допустим мы решили пересмотреть структуру какой-то регистр и мы нам нужно в из старого регистра в новые переложить и мы это можем сделать от программным способом при переходе на новую версию так сегодня точно ты сам","usage":{"type":"duration","seconds":58}}

